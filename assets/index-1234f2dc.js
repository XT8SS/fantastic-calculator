var $t=Object.defineProperty;var xt=(e,t,n)=>t in e?$t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var je=(e,t,n)=>(xt(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function P(){}const Me=e=>e;function en(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function Bt(e){return e()}function rt(){return Object.create(null)}function G(e){e.forEach(Bt)}function ze(e){return typeof e=="function"}function V(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let De;function oe(e,t){return e===t?!0:(De||(De=document.createElement("a")),De.href=t,e===De.href)}function tn(e){return Object.keys(e).length===0}function nn(e,...t){if(e==null){for(const s of t)s(void 0);return P}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function te(e,t,n){e.$$.on_destroy.push(nn(t,n))}function pe(e,t,n){return e.set(n),t}const It=typeof window<"u";let Ze=It?()=>window.performance.now():()=>Date.now(),Ye=It?e=>requestAnimationFrame(e):P;const we=new Set;function Lt(e){we.forEach(t=>{t.c(e)||(we.delete(t),t.f())}),we.size!==0&&Ye(Lt)}function Je(e){let t;return we.size===0&&Ye(Lt),{promise:new Promise(n=>{we.add(t={c:e,f:n})}),abort(){we.delete(t)}}}function k(e,t){e.appendChild(t)}function Tt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function ln(e){const t=v("style");return t.textContent="/* empty */",sn(Tt(e),t),t.sheet}function sn(e,t){return k(e.head||e,t),t.sheet}function T(e,t,n){e.insertBefore(t,n||null)}function B(e){e.parentNode&&e.parentNode.removeChild(e)}function qe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function R(e){return document.createTextNode(e)}function A(){return R(" ")}function Pt(){return R("")}function I(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function at(e,t,n){t in e?e[t]=typeof e[t]=="boolean"&&n===""?!0:n:b(e,t,n)}function At(e){return e===""?null:+e}function on(e){return Array.from(e.childNodes)}function Z(e,t){t=""+t,e.data!==t&&(e.data=t)}function ut(e,t){e.value=t??""}function W(e,t,n,s){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}let Be;function rn(){if(Be===void 0){Be=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Be=!0}}return Be}function Le(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const s=v("iframe");s.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),s.setAttribute("aria-hidden","true"),s.tabIndex=-1;const l=rn();let a;return l?(s.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",a=I(window,"message",o=>{o.source===s.contentWindow&&t()})):(s.src="about:blank",s.onload=()=>{a=I(s.contentWindow,"resize",t),t()}),k(e,s),()=>{(l||a&&s.contentWindow)&&a(),B(s)}}function F(e,t,n){e.classList.toggle(t,!!n)}function Ft(e,t,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:s})}const Te=new Map;let Pe=0;function an(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function un(e,t){const n={stylesheet:ln(t),rules:{}};return Te.set(e,n),n}function Ae(e,t,n,s,l,a,o,r=0){const i=16.666/s;let u=`{
`;for(let p=0;p<=1;p+=i){const g=t+(n-t)*a(p);u+=p*100+`%{${o(g,1-g)}}
`}const c=u+`100% {${o(n,1-n)}}
}`,f=`__svelte_${an(c)}_${r}`,m=Tt(e),{stylesheet:d,rules:h}=Te.get(m)||un(m,e);h[f]||(h[f]=!0,d.insertRule(`@keyframes ${f} ${c}`,d.cssRules.length));const _=e.style.animation||"";return e.style.animation=`${_?`${_}, `:""}${f} ${s}ms linear ${l}ms 1 both`,Pe+=1,f}function Fe(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?a=>a.indexOf(t)<0:a=>a.indexOf("__svelte")===-1),l=n.length-s.length;l&&(e.style.animation=s.join(", "),Pe-=l,Pe||fn())}function fn(){Ye(()=>{Pe||(Te.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&B(t)}),Te.clear())})}let Ee;function ce(e){Ee=e}function Xe(){if(!Ee)throw new Error("Function called outside component initialization");return Ee}function Qe(e){Xe().$$.on_mount.push(e)}function $e(){const e=Xe();return(t,n,{cancelable:s=!1}={})=>{const l=e.$$.callbacks[t];if(l){const a=Ft(t,n,{cancelable:s});return l.slice().forEach(o=>{o.call(e,a)}),!a.defaultPrevented}return!0}}const be=[],M=[];let ve=[];const We=[],cn=Promise.resolve();let Ge=!1;function dn(){Ge||(Ge=!0,cn.then(xe))}function U(e){ve.push(e)}function X(e){We.push(e)}const Re=new Set;let he=0;function xe(){if(he!==0)return;const e=Ee;do{try{for(;he<be.length;){const t=be[he];he++,ce(t),mn(t.$$)}}catch(t){throw be.length=0,he=0,t}for(ce(null),be.length=0,he=0;M.length;)M.pop()();for(let t=0;t<ve.length;t+=1){const n=ve[t];Re.has(n)||(Re.add(n),n())}ve.length=0}while(be.length);for(;We.length;)We.pop()();Ge=!1,Re.clear(),ce(e)}function mn(e){if(e.fragment!==null){e.update(),G(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(U)}}function pn(e){const t=[],n=[];ve.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),ve=t}let Oe;function et(){return Oe||(Oe=Promise.resolve(),Oe.then(()=>{Oe=null})),Oe}function _e(e,t,n){e.dispatchEvent(Ft(`${t?"intro":"outro"}${n}`))}const Ie=new Set;let ie;function Q(){ie={r:0,c:[],p:ie}}function $(){ie.r||G(ie.c),ie=ie.p}function q(e,t){e&&e.i&&(Ie.delete(e),e.i(t))}function L(e,t,n,s){if(e&&e.o){if(Ie.has(e))return;Ie.add(e),ie.c.push(()=>{Ie.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}const tt={duration:0};function _n(e,t,n){const s={direction:"in"};let l=t(e,n,s),a=!1,o,r,i=0;function u(){o&&Fe(e,o)}function c(){const{delay:m=0,duration:d=300,easing:h=Me,tick:_=P,css:p}=l||tt;p&&(o=Ae(e,0,1,d,m,h,p,i++)),_(0,1);const g=Ze()+m,E=g+d;r&&r.abort(),a=!0,U(()=>_e(e,!0,"start")),r=Je(O=>{if(a){if(O>=E)return _(1,0),_e(e,!0,"end"),u(),a=!1;if(O>=g){const N=h((O-g)/d);_(N,1-N)}}return a})}let f=!1;return{start(){f||(f=!0,Fe(e),ze(l)?(l=l(s),et().then(c)):c())},invalidate(){f=!1},end(){a&&(u(),a=!1)}}}function hn(e,t,n){const s={direction:"out"};let l=t(e,n,s),a=!0,o;const r=ie;r.r+=1;let i;function u(){const{delay:c=0,duration:f=300,easing:m=Me,tick:d=P,css:h}=l||tt;h&&(o=Ae(e,1,0,f,c,m,h));const _=Ze()+c,p=_+f;U(()=>_e(e,!1,"start")),"inert"in e&&(i=e.inert,e.inert=!0),Je(g=>{if(a){if(g>=p)return d(0,1),_e(e,!1,"end"),--r.r||G(r.c),!1;if(g>=_){const E=m((g-_)/f);d(1-E,E)}}return a})}return ze(l)?et().then(()=>{l=l(s),u()}):u(),{end(c){c&&"inert"in e&&(e.inert=i),c&&l.tick&&l.tick(1,0),a&&(o&&Fe(e,o),a=!1)}}}function ye(e,t,n,s){let a=t(e,n,{direction:"both"}),o=s?0:1,r=null,i=null,u=null,c;function f(){u&&Fe(e,u)}function m(h,_){const p=h.b-o;return _*=Math.abs(p),{a:o,b:h.b,d:p,duration:_,start:h.start,end:h.start+_,group:h.group}}function d(h){const{delay:_=0,duration:p=300,easing:g=Me,tick:E=P,css:O}=a||tt,N={start:Ze()+_,b:h};h||(N.group=ie,ie.r+=1),"inert"in e&&(h?c!==void 0&&(e.inert=c):(c=e.inert,e.inert=!0)),r||i?i=N:(O&&(f(),u=Ae(e,o,h,p,_,g,O)),h&&E(0,1),r=m(N,p),U(()=>_e(e,h,"start")),Je(C=>{if(i&&C>i.start&&(r=m(i,p),i=null,_e(e,r.b,"start"),O&&(f(),u=Ae(e,o,r.b,r.duration,0,g,a.css))),r){if(C>=r.end)E(o=r.b,1-o),_e(e,r.b,"end"),i||(r.b?f():--r.group.r||G(r.group.c)),r=null;else if(C>=r.start){const z=C-r.start;o=r.a+r.d*g(z/r.duration),E(o,1-o)}}return!!(r||i)}))}return{run(h){ze(a)?et().then(()=>{a=a({direction:h?"in":"out"}),d(h)}):d(h)},end(){f(),r=i=null}}}function gn(e,t){const n=t.token={};function s(l,a,o,r){if(t.token!==n)return;t.resolved=r;let i=t.ctx;o!==void 0&&(i=i.slice(),i[o]=r);const u=l&&(t.current=l)(i);let c=!1;t.block&&(t.blocks?t.blocks.forEach((f,m)=>{m!==a&&f&&(Q(),L(f,1,1,()=>{t.blocks[m]===f&&(t.blocks[m]=null)}),$())}):t.block.d(1),u.c(),q(u,1),u.m(t.mount(),t.anchor),c=!0),t.block=u,t.blocks&&(t.blocks[a]=u),c&&xe()}if(en(e)){const l=Xe();if(e.then(a=>{ce(l),s(t.then,1,t.value,a),ce(null)},a=>{if(ce(l),s(t.catch,2,t.error,a),ce(null),!t.hasCatch)throw a}),t.current!==t.pending)return s(t.pending,0),!0}else{if(t.current!==t.then)return s(t.then,1,t.value,e),!0;t.resolved=e}}function bn(e,t,n){const s=t.slice(),{resolved:l}=e;e.current===e.then&&(s[e.value]=l),e.current===e.catch&&(s[e.error]=l),e.block.p(s,n)}function re(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function x(e,t,n){const s=e.$$.props[t];s!==void 0&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function ne(e){e&&e.c()}function Y(e,t,n){const{fragment:s,after_update:l}=e.$$;s&&s.m(t,n),U(()=>{const a=e.$$.on_mount.map(Bt).filter(ze);e.$$.on_destroy?e.$$.on_destroy.push(...a):G(a),e.$$.on_mount=[]}),l.forEach(U)}function J(e,t){const n=e.$$;n.fragment!==null&&(pn(n.after_update),G(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function kn(e,t){e.$$.dirty[0]===-1&&(be.push(e),dn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function le(e,t,n,s,l,a,o=null,r=[-1]){const i=Ee;ce(e);const u=e.$$={fragment:null,ctx:[],props:a,update:P,not_equal:l,bound:rt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(i?i.$$.context:[])),callbacks:rt(),dirty:r,skip_bound:!1,root:t.target||i.$$.root};o&&o(u.root);let c=!1;if(u.ctx=n?n(e,t.props||{},(f,m,...d)=>{const h=d.length?d[0]:m;return u.ctx&&l(u.ctx[f],u.ctx[f]=h)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](h),c&&kn(e,f)),m}):[],u.update(),c=!0,G(u.before_update),u.fragment=s?s(u.ctx):!1,t.target){if(t.hydrate){const f=on(t.target);u.fragment&&u.fragment.l(f),f.forEach(B)}else u.fragment&&u.fragment.c();t.intro&&q(e.$$.fragment),Y(e,t.target,t.anchor),xe()}ce(i)}class se{constructor(){je(this,"$$");je(this,"$$set")}$destroy(){J(this,1),this.$destroy=P}$on(t,n){if(!ze(n))return P;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(t){this.$$set&&!tn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const wn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(wn);const ge=[];function Ce(e,t=P){let n;const s=new Set;function l(r){if(V(e,r)&&(e=r,n)){const i=!ge.length;for(const u of s)u[1](),ge.push(u,e);if(i){for(let u=0;u<ge.length;u+=2)ge[u][0](ge[u+1]);ge.length=0}}}function a(r){l(r(e))}function o(r,i=P){const u=[r,i];return s.add(u),s.size===1&&(n=t(l,a)||P),r(e),()=>{s.delete(u),s.size===0&&n&&(n(),n=null)}}return{set:l,update:a,subscribe:o}}let Ve=Ce({}),ke=Ce({}),Ke=Ce({}),nt=Ce([]),He=Ce({}),Ue={armor:"Armor",magicDmg:"Magic",meleeDmg:"Melee",rangedDmg:"Ranged",hpRegen:"HP Regen",endurance:"Endurance",sightRange:"Sight Range",walkSpeed:"Walk Speed",jumpPower:"Jump Power",ammoReturn:"Ammo Return",height:"Height"},ft=["head","body","legs","feet","neck","back","ring","misc"],Mt={name:"",stats:{armor:0,magicDmg:0,meleeDmg:0,rangedDmg:0,hpRegen:0,endurance:0,sightRange:0,walkSpeed:0,jumpPower:0,ammoReturn:0,height:0},image:"",link:""},jt={name:"",info:{type:"",special:""},moves:[],image:"",link:""};function lt(e,t){let n=2.8,s=t.split(" ").length,l=e.querySelector("span");if(l.style.removeProperty("font-size"),s>2&&t.length/s>=5){for(;l.offsetHeight>e.offsetHeight/4*3;)n-=.05,l.style.fontSize=`calc(var(--u) * ${n})`;return n<2.8}}function vn(e){let t=2.8,n=e.querySelector("span");for(n.style.removeProperty("font-size");n.offsetWidth>e.offsetWidth;)t-=.05,n.style.fontSize=`calc(var(--u) * ${t})`;for(;n.offsetHeight>e.offsetHeight/5*3;)t-=.05,n.style.fontSize=`calc(var(--u) * ${t})`;if(t<2.8)return t}function yn(e){let t=2.35,n=e.querySelector(".tooltip");for(n.style.removeProperty("font-size");n.offsetHeight>e.offsetHeight*1.125;)t-=.02,n.style.fontSize=`calc(var(--u) * ${t})`}function Sn(e){let t,n,s,l,a,o,r,i;return{c(){t=v("li"),n=v("button"),s=v("img"),a=A(),o=v("span"),o.textContent=`${e[3]}`,oe(s.src,l=e[0].image)||b(s,"src",l),b(s,"alt",""),F(t,"selectedItem",e[2])},m(u,c){T(u,t,c),k(t,n),k(n,s),k(n,a),k(n,o),e[7](t),r||(i=I(n,"click",e[4]),r=!0)},p(u,[c]){c&1&&!oe(s.src,l=u[0].image)&&b(s,"src",l),c&4&&F(t,"selectedItem",u[2])},i:P,o:P,d(u){u&&B(t),e[7](null),r=!1,i()}}}function Nn(e,t,n){let s,l,a;te(e,ke,_=>n(8,s=_)),te(e,Ve,_=>n(9,l=_)),te(e,nt,_=>n(10,a=_));let{itemData:o,slotOpen:r,eqSlotName:i}=t;const u=$e();let c,f=!1,m=o.name;Qe(()=>{lt(c,m)&&a.push({node:c,itemName:m})});function d(_){if(r||!r&&_.isTrusted==!1){u("itemSelect",c),c.classList.contains("selectedItem")||n(2,f=!1),n(2,f=!f),n(5,r=!1),pe(Ve,l[i]=f?o:Mt,l);for(let p of Object.keys(Ue)){pe(ke,s[p]=0,s);for(let g in l)pe(ke,s[p]+=l[g].stats[p],s),pe(ke,s[p]=Math.round(s[p]*10)/10,s)}}}function h(_){M[_?"unshift":"push"](()=>{c=_,n(1,c)})}return e.$$set=_=>{"itemData"in _&&n(0,o=_.itemData),"slotOpen"in _&&n(5,r=_.slotOpen),"eqSlotName"in _&&n(6,i=_.eqSlotName)},[o,c,f,m,d,r,i,h]}class On extends se{constructor(t){super(),le(this,t,Nn,Sn,V,{itemData:0,slotOpen:5,eqSlotName:6})}}function En(e){let t,n,s,l,a,o,r,i,u;return{c(){t=v("li"),n=v("button"),s=v("img"),a=A(),o=v("span"),o.textContent=`${e[4]}`,oe(s.src,l=e[0].image)||b(s,"src",l),b(s,"alt",""),n.disabled=r=!e[3],F(t,"selectedItem",e[2]),F(t,"non-eligible",!e[3])},m(c,f){T(c,t,f),k(t,n),k(n,s),k(n,a),k(n,o),e[10](t),i||(u=I(n,"click",e[5]),i=!0)},p(c,[f]){f&1&&!oe(s.src,l=c[0].image)&&b(s,"src",l),f&8&&r!==(r=!c[3])&&(n.disabled=r),f&4&&F(t,"selectedItem",c[2]),f&8&&F(t,"non-eligible",!c[3])},i:P,o:P,d(c){c&&B(t),e[10](null),i=!1,u()}}}function zn(e,t,n){let s,l;te(e,Ke,g=>n(9,s=g)),te(e,nt,g=>n(11,l=g));let{itemData:a,slotOpen:o,index:r,weaponExpand:i}=t;const u=$e();let c,f=!1,m=!0,d=a.name,h={"Orange Salamander":["Green Salamander","Purple Salamander"],"Green Salamander":["Orange Salamander","Purple Salamander"],"Purple Salamander":["Orange Salamander","Green Salamander"],"White Salamander":["Black Salamander","Gold Salamander"],"Black Salamander":["White Salamander","Gold Salamander"],"Gold Salamander":["White Salamander","Black Salamander"]};Qe(()=>{lt(c,d)&&l.push({node:c,itemName:d})});function _(g){m&&(o||!o&&g.isTrusted==!1)&&(u("itemSelect",c),c.classList.contains("selectedItem")||n(2,f=!1),n(2,f=!f),n(6,o=!1),pe(Ke,s[r]=f?a:jt,s))}function p(g){M[g?"unshift":"push"](()=>{c=g,n(1,c)})}return e.$$set=g=>{"itemData"in g&&n(0,a=g.itemData),"slotOpen"in g&&n(6,o=g.slotOpen),"index"in g&&n(7,r=g.index),"weaponExpand"in g&&n(8,i=g.weaponExpand)},e.$$.update=()=>{if(e.$$.dirty&897&&s)for(let g in s)if(g!=r&&(s[g].name==d||h[s[g].name]&&h[s[g].name].includes(d))){n(3,m=!1);break}else!i&&!a.tool&&n(3,m=!0);if(e.$$.dirty&897){if(i)a.tool&&n(3,m=!1);else if(a.tool)for(let g in s)if(g!=r&&s[g].name==d){n(3,m=!1);break}else n(3,m=!0)}},[a,c,f,m,d,_,o,r,i,s,p]}class qn extends se{constructor(t){super(),le(this,t,zn,En,V,{itemData:0,slotOpen:6,index:7,weaponExpand:8})}}function ct(e,t,n){const s=e.slice();return s[27]=t[n],s}function Cn(e){return{c:P,m:P,p:P,i:P,o:P,d:P}}function Dn(e){let t,n,s,l,a,o,r,i=re(e[26]),u=[];for(let f=0;f<i.length;f+=1)u[f]=dt(ct(e,i,f));const c=f=>L(u[f],1,1,()=>{u[f]=null});return{c(){t=v("div"),n=v("input"),s=A(),l=v("ul");for(let f=0;f<u.length;f+=1)u[f].c();b(n,"type","text"),b(n,"class","searchBarInput svelte-668kzw"),b(n,"placeholder","Search..."),b(t,"class","searchBarCont svelte-668kzw"),b(l,"class","svelte-668kzw")},m(f,m){T(f,t,m),k(t,n),e[12](n),T(f,s,m),T(f,l,m);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(l,null);e[16](l),a=!0,o||(r=[I(n,"keydown",e[8]),I(n,"input",e[9])],o=!0)},p(f,m){if(m&1167){i=re(f[26]);let d;for(d=0;d<i.length;d+=1){const h=ct(f,i,d);u[d]?(u[d].p(h,m),q(u[d],1)):(u[d]=dt(h),u[d].c(),q(u[d],1),u[d].m(l,null))}for(Q(),d=i.length;d<u.length;d+=1)c(d);$()}},i(f){if(!a){for(let m=0;m<i.length;m+=1)q(u[m]);a=!0}},o(f){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)L(u[m]);a=!1},d(f){f&&(B(t),B(s),B(l)),e[12](null),qe(u,f),e[16](null),o=!1,G(r)}}}function Bn(e){let t,n,s;function l(o){e[15](o)}let a={itemData:e[27],eqSlotName:e[2]};return e[0]!==void 0&&(a.slotOpen=e[0]),t=new On({props:a}),M.push(()=>x(t,"slotOpen",l)),t.$on("itemSelect",e[10]),{c(){ne(t.$$.fragment)},m(o,r){Y(t,o,r),s=!0},p(o,r){const i={};r&4&&(i.eqSlotName=o[2]),!n&&r&1&&(n=!0,i.slotOpen=o[0],X(()=>n=!1)),t.$set(i)},i(o){s||(q(t.$$.fragment,o),s=!0)},o(o){L(t.$$.fragment,o),s=!1},d(o){J(t,o)}}}function In(e){let t,n,s,l;function a(i){e[13](i)}function o(i){e[14](i)}let r={itemData:e[27],index:e[3]};return e[0]!==void 0&&(r.slotOpen=e[0]),e[1]!==void 0&&(r.weaponExpand=e[1]),t=new qn({props:r}),M.push(()=>x(t,"slotOpen",a)),M.push(()=>x(t,"weaponExpand",o)),t.$on("itemSelect",e[10]),{c(){ne(t.$$.fragment)},m(i,u){Y(t,i,u),l=!0},p(i,u){const c={};u&8&&(c.index=i[3]),!n&&u&1&&(n=!0,c.slotOpen=i[0],X(()=>n=!1)),!s&&u&2&&(s=!0,c.weaponExpand=i[1],X(()=>s=!1)),t.$set(c)},i(i){l||(q(t.$$.fragment,i),l=!0)},o(i){L(t.$$.fragment,i),l=!1},d(i){J(t,i)}}}function dt(e){let t,n,s,l;const a=[In,Bn],o=[];function r(i,u){return i[3]?0:1}return t=r(e),n=o[t]=a[t](e),{c(){n.c(),s=Pt()},m(i,u){o[t].m(i,u),T(i,s,u),l=!0},p(i,u){let c=t;t=r(i),t===c?o[t].p(i,u):(Q(),L(o[c],1,1,()=>{o[c]=null}),$(),n=o[t],n?n.p(i,u):(n=o[t]=a[t](i),n.c()),q(n,1),n.m(s.parentNode,s))},i(i){l||(q(n),l=!0)},o(i){L(n),l=!1},d(i){i&&B(s),o[t].d(i)}}}function Ln(e){let t;return{c(){t=v("span"),t.textContent="Loading items...",b(t,"class","svelte-668kzw")},m(n,s){T(n,t,s)},p:P,i:P,o:P,d(n){n&&B(t)}}}function Tn(e){let t,n,s,l,a={ctx:e,current:null,token:null,hasCatch:!1,pending:Ln,then:Dn,catch:Cn,value:26,blocks:[,,,]};return gn(e[7],a),{c(){t=v("div"),a.block.c(),b(t,"class","dropdown svelte-668kzw")},m(o,r){T(o,t,r),a.block.m(t,a.anchor=null),a.mount=()=>t,a.anchor=null,n=!0,s||(l=[I(t,"transitionend",e[17]),I(t,"transitioncancel",e[18])],s=!0)},p(o,[r]){e=o,bn(a,e,r)},i(o){n||(q(a.block),n=!0)},o(o){for(let r=0;r<3;r+=1){const i=a.blocks[r];L(i)}n=!1},d(o){o&&B(t),a.block.d(),a.token=null,a=null,s=!1,G(l)}}}function Pn(e,t,n){let{slotName:s,index:l,slotOpen:a,weaponExpand:o}=t;const r=$e();let i,u,c,f=`https://raw.githubusercontent.com/XT8SS/fc-sv/gh-pages/ff-data/${s}.json`,m,d={},h=!1;const _=fetch(f).then(async y=>{if(y.status!=200){console.error(`Failed to fetch ${(l?"weapon #":"")+s} slot data from ${f}
Response status: ${y.status}`);return}return n(11,m=await y.json()),m}).catch(y=>{console.error(`Failed to initiate ${(l?"weapon #":"")+s} slot data fetch from ${f}
${y}`)});function p(){c&&c.classList.remove("lastItem"),u.classList.remove("no-scrollbar");let y=u.querySelectorAll("li:not(.hidden)");c=y[y.length-1],c&&c.classList.add("lastItem"),(!c||c.classList.contains("non-eligible"))&&(c=i),y.length<=4&&u.classList.add("no-scrollbar")}function g(y){!y.shiftKey&&y.key=="Tab"&&setTimeout(()=>{i.focus()})}function E(){c&&c.removeEventListener("keydown",g),p(),c&&c.addEventListener("keydown",g)}function O(y){y.shiftKey&&y.key=="Tab"&&setTimeout(()=>{(c.querySelector("button")||c).focus()})}function N(){let y=i.value.toLowerCase();for(let ue in d)ue.toLowerCase().includes(y)?d[ue].element.classList.remove("hidden"):d[ue].element.classList.add("hidden");E()}function C(y){r("itemSelect",y.detail);let ue=u.querySelector(".selectedItem");ue&&ue!=y.detail&&ue.classList.remove("selectedItem"),n(6,h=!0)}function z(y){M[y?"unshift":"push"](()=>{i=y,n(5,i)})}function H(y){a=y,n(0,a)}function ee(y){o=y,n(1,o)}function ae(y){a=y,n(0,a)}function S(y){M[y?"unshift":"push"](()=>{u=y,n(4,u)})}const D=y=>{y.propertyName=="visibility"&&(h&&(n(6,h=!1),n(5,i.value="",i),N()),a&&setTimeout(()=>{i.focus(),i.click(),i.select()}))},j=y=>{y.propertyName=="visibility"&&(n(6,h=!1),a&&setTimeout(()=>{i.focus(),i.click(),i.select()}))};return e.$$set=y=>{"slotName"in y&&n(2,s=y.slotName),"index"in y&&n(3,l=y.index),"slotOpen"in y&&n(0,a=y.slotOpen),"weaponExpand"in y&&n(1,o=y.weaponExpand)},e.$$.update=()=>{if(e.$$.dirty&2064&&u){for(let y=0;y<u.childElementCount;y++)d[m[y].name]={element:u.children[y],data:m[y]};p(),E()}},[a,o,s,l,u,i,h,_,O,N,C,m,z,H,ee,ae,S,D,j]}class Rt extends se{constructor(t){super(),le(this,t,Pn,Tn,V,{slotName:2,index:3,slotOpen:0,weaponExpand:1})}}function me(e,{delay:t=0,duration:n=400,easing:s=Me}={}){const l=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:s,css:a=>`opacity: ${a*l}`}}function mt(e){let t,n,s,l,a,o,r=e[1].name+"",i,u,c,f,m,d;return{c(){t=v("a"),n=v("img"),a=A(),o=v("span"),i=R(r),oe(n.src,s=e[1].image)||b(n,"src",s),b(n,"alt",l=e[1].name),b(n,"draggable","false"),b(n,"class","svelte-1f96u8k"),b(o,"class","tooltip"),b(o,"id","left"),b(t,"href",u=e[1].link),b(t,"target","_blank"),b(t,"class","svelte-1f96u8k"),W(t,"display",e[1].link?"":"none")},m(h,_){T(h,t,_),k(t,n),k(t,a),k(t,o),k(o,i),f=!0,m||(d=[I(t,"focusin",e[11]),I(t,"outroend",e[12])],m=!0)},p(h,_){(!f||_&2&&!oe(n.src,s=h[1].image))&&b(n,"src",s),(!f||_&2&&l!==(l=h[1].name))&&b(n,"alt",l),(!f||_&2)&&r!==(r=h[1].name+"")&&Z(i,r),(!f||_&2&&u!==(u=h[1].link))&&b(t,"href",u),_&2&&W(t,"display",h[1].link?"":"none")},i(h){f||(h&&U(()=>{f&&(c||(c=ye(t,me,{duration:150},!0)),c.run(1))}),f=!0)},o(h){h&&(c||(c=ye(t,me,{duration:150},!1)),c.run(0)),f=!1},d(h){h&&B(t),h&&c&&c.end(),m=!1,G(d)}}}function An(e){let t,n,s=e[1],l,a,o,r=e[0].charAt(0).toUpperCase()+e[0].slice(1)+"",i,u,c,f,m,d,h,_,p,g,E,O=mt(e);function N(z){e[17](z)}let C={slotName:e[0],index:null,weaponExpand:null};return e[5]!==void 0&&(C.slotOpen=e[5]),h=new Rt({props:C}),M.push(()=>x(h,"slotOpen",N)),h.$on("itemSelect",e[18]),{c(){t=v("div"),n=v("div"),O.c(),a=A(),o=v("button"),i=R(r),u=A(),c=v("iconify-icon"),f=A(),m=v("button"),m.innerHTML='<iconify-icon icon="maki:cross" class="svelte-1f96u8k"></iconify-icon> <span class="tooltip" id="top">Clear selection</span>',d=A(),ne(h.$$.fragment),b(n,"class","eqSlotIcon svelte-1f96u8k"),U(()=>e[14].call(n)),W(n,"min-width",`${e[4]}px`),at(c,"icon","iconamoon:arrow-down-2-fill"),at(c,"class","svelte-1f96u8k"),b(o,"class","ddButton svelte-1f96u8k"),b(m,"class","clearButton svelte-1f96u8k"),b(t,"class","eqSlotCont svelte-1f96u8k"),F(t,"slotOpen",e[5]),F(t,"clearAllowed",e[6]&&e[7])},m(z,H){T(z,t,H),k(t,n),O.m(n,null),e[13](n),l=Le(n,e[14].bind(n)),k(t,a),k(t,o),k(o,i),k(o,u),k(o,c),k(t,f),k(t,m),k(t,d),Y(h,t,null),e[19](t),p=!0,g||(E=[I(window,"mousedown",e[9]),I(window,"keydown",e[10]),I(o,"click",e[15]),I(m,"click",e[16]),I(t,"keydown",e[20]),I(t,"mouseenter",e[21]),I(t,"mouseleave",e[22])],g=!0)},p(z,[H]){H&2&&V(s,s=z[1])?(Q(),L(O,1,1,P),$(),O=mt(z),O.c(),q(O,1),O.m(n,null)):O.p(z,H),H&16&&W(n,"min-width",`${z[4]}px`),(!p||H&1)&&r!==(r=z[0].charAt(0).toUpperCase()+z[0].slice(1)+"")&&Z(i,r);const ee={};H&1&&(ee.slotName=z[0]),!_&&H&32&&(_=!0,ee.slotOpen=z[5],X(()=>_=!1)),h.$set(ee),(!p||H&32)&&F(t,"slotOpen",z[5]),(!p||H&192)&&F(t,"clearAllowed",z[6]&&z[7])},i(z){p||(q(O),q(h.$$.fragment,z),p=!0)},o(z){L(O),L(h.$$.fragment,z),p=!1},d(z){z&&B(t),O.d(z),e[13](null),l(),J(h),e[19](null),g=!1,G(E)}}}function Fn(e,t,n){let s;te(e,Ve,S=>n(8,s=S));let{eqSlotName:l}=t,a,o,r,i=Mt,u,c,f;const m=S=>{(!a.contains(S.target)||S.target==a||S.target==o)&&(n(5,u=!1),S.target!=a&&S.target!=o&&n(6,c=!1))},d=S=>{S.key=="Tab"&&setTimeout(()=>{n(6,c=a.contains(document.activeElement))})},h=S=>{S.relatedTarget==null&&n(6,c=!0)},_=()=>{setTimeout(()=>{yn(o)})};function p(S){M[S?"unshift":"push"](()=>{o=S,n(3,o)})}function g(){r=this.offsetHeight,n(4,r)}const E=()=>n(5,u=!u),O=()=>{n(6,c=!1),a.classList.contains("clearAllowed")&&f.querySelector("button").click()};function N(S){u=S,n(5,u)}const C=S=>{setTimeout(()=>{n(7,f=S.detail.classList.contains("selectedItem")?S.detail:null)})};function z(S){M[S?"unshift":"push"](()=>{a=S,n(2,a)})}const H=S=>{S.key=="Escape"&&n(5,u=!1)},ee=()=>n(6,c=!0),ae=()=>{a.contains(document.activeElement)||n(6,c=!1)};return e.$$set=S=>{"eqSlotName"in S&&n(0,l=S.eqSlotName)},e.$$.update=()=>{e.$$.dirty&259&&s[l]&&s[l].name!=i.name&&n(1,i=s[l])},[l,i,a,o,r,u,c,f,s,m,d,h,_,p,g,E,O,N,C,z,H,ee,ae]}class Mn extends se{constructor(t){super(),le(this,t,Fn,An,V,{eqSlotName:0})}}function pt(e,t,n){const s=e.slice();return s[1]=t[n],s[2]=t,s[3]=n,s}function _t(e){let t,n,s;function l(o){e[0](o,e[1],e[2],e[3])}let a={};return e[1]!==void 0&&(a.eqSlotName=e[1]),t=new Mn({props:a}),M.push(()=>x(t,"eqSlotName",l)),{c(){ne(t.$$.fragment)},m(o,r){Y(t,o,r),s=!0},p(o,r){e=o;const i={};!n&&r&0&&(n=!0,i.eqSlotName=e[1],X(()=>n=!1)),t.$set(i)},i(o){s||(q(t.$$.fragment,o),s=!0)},o(o){L(t.$$.fragment,o),s=!1},d(o){J(t,o)}}}function jn(e){let t,n,s=re(Array(...ft)),l=[];for(let o=0;o<s.length;o+=1)l[o]=_t(pt(e,s,o));const a=o=>L(l[o],1,1,()=>{l[o]=null});return{c(){t=v("div");for(let o=0;o<l.length;o+=1)l[o].c();b(t,"class","armorBox svelte-3p4tb9")},m(o,r){T(o,t,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(t,null);n=!0},p(o,[r]){if(r&0){s=re(Array(...ft));let i;for(i=0;i<s.length;i+=1){const u=pt(o,s,i);l[i]?(l[i].p(u,r),q(l[i],1)):(l[i]=_t(u),l[i].c(),q(l[i],1),l[i].m(t,null))}for(Q(),i=s.length;i<l.length;i+=1)a(i);$()}},i(o){if(!n){for(let r=0;r<s.length;r+=1)q(l[r]);n=!0}},o(o){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)L(l[r]);n=!1},d(o){o&&B(t),qe(l,o)}}}function Rn(e,t,n){function s(l,a,o,r){o[r]=l}return[s]}class Hn extends se{constructor(t){super(),le(this,t,Rn,jn,V,{})}}function Wn(e){let t,n=(e[5]?`${Math.floor(e[2][e[0]]*.675+19.8)}% Reduction`:e[6])+"",s,l,a,o;return{c(){t=v("span"),s=R(n),b(t,"class","statValue svelte-16tz2kw"),b(t,"tabindex","0"),b(t,"style",l=e[5]?`font-size: ${e[3]*.7/6.85}px;`:""),F(t,"hidden",e[4]),F(t,"negative",e[6]<0),F(t,"reduction",e[5])},m(r,i){T(r,t,i),k(t,s),a||(o=[I(t,"mouseenter",e[10]),I(t,"mouseleave",e[11]),I(t,"focusin",e[12]),I(t,"focusout",e[13])],a=!0)},p(r,i){i&101&&n!==(n=(r[5]?`${Math.floor(r[2][r[0]]*.675+19.8)}% Reduction`:r[6])+"")&&Z(s,n),i&40&&l!==(l=r[5]?`font-size: ${r[3]*.7/6.85}px;`:"")&&b(t,"style",l),i&16&&F(t,"hidden",r[4]),i&64&&F(t,"negative",r[6]<0),i&32&&F(t,"reduction",r[5])},d(r){r&&B(t),a=!1,G(o)}}}function Gn(e){let t,n=(e[0]!="endurance"?e[6]:e[6].toFixed(2))+"",s;return{c(){t=v("span"),s=R(n),b(t,"class","statValue svelte-16tz2kw"),F(t,"hidden",e[4]),F(t,"negative",e[6]<0)},m(l,a){T(l,t,a),k(t,s)},p(l,a){a&65&&n!==(n=(l[0]!="endurance"?l[6]:l[6].toFixed(2))+"")&&Z(s,n),a&16&&F(t,"hidden",l[4]),a&64&&F(t,"negative",l[6]<0)},d(l){l&&B(t)}}}function ht(e){let t,n=`${e[1]} Bonus`,s;return{c(){t=v("span"),s=R(n),W(t,"font-size",`${e[3]*.7/e[7][e[0]]}px`)},m(l,a){T(l,t,a),k(t,s)},p(l,a){a&2&&n!==(n=`${l[1]} Bonus`)&&Z(s,n),a&9&&W(t,"font-size",`${l[3]*.7/l[7][l[0]]}px`)},d(l){l&&B(t)}}}function Vn(e){let t,n,s,l,a,o,r,i;function u(d,h){return d[0]!="armor"?Gn:Wn}let c=u(e),f=c(e),m=e[4]&&ht(e);return{c(){t=v("div"),n=v("img"),l=A(),f.c(),a=A(),m&&m.c(),oe(n.src,s="stats/"+e[0]+".svg")||b(n,"src",s),b(n,"alt",e[1]),b(n,"class","svelte-16tz2kw"),b(t,"id",e[0]),b(t,"class","svelte-16tz2kw"),U(()=>e[14].call(t)),F(t,"hidden",e[6]==0)},m(d,h){T(d,t,h),k(t,n),k(t,l),f.m(t,null),k(t,a),m&&m.m(t,null),o=Le(t,e[14].bind(t)),r||(i=[I(n,"mouseenter",e[8]),I(n,"mouseleave",e[9])],r=!0)},p(d,[h]){h&1&&!oe(n.src,s="stats/"+d[0]+".svg")&&b(n,"src",s),h&2&&b(n,"alt",d[1]),c===(c=u(d))&&f?f.p(d,h):(f.d(1),f=c(d),f&&(f.c(),f.m(t,a))),d[4]?m?m.p(d,h):(m=ht(d),m.c(),m.m(t,null)):m&&(m.d(1),m=null),h&1&&b(t,"id",d[0]),h&64&&F(t,"hidden",d[6]==0)},i:P,o:P,d(d){d&&B(t),f.d(),m&&m.d(),o(),r=!1,G(i)}}}function Kn(e,t,n){let s,l;te(e,ke,E=>n(2,l=E));let{codeName:a,formalName:o}=t,r,i,u,c={armor:5.9,magicDmg:5.65,meleeDmg:5.7,rangedDmg:6.45,hpRegen:7.35,endurance:7.85,sightRange:8.45,walkSpeed:8.3,jumpPower:8.7,ammoReturn:9.3,height:6.1};const f=()=>n(4,i=!0),m=()=>n(4,i=!1),d=()=>n(5,u=!0),h=()=>n(5,u=!1),_=()=>n(5,u=!0),p=()=>n(5,u=!1);function g(){r=this.offsetWidth,n(3,r)}return e.$$set=E=>{"codeName"in E&&n(0,a=E.codeName),"formalName"in E&&n(1,o=E.formalName)},e.$$.update=()=>{e.$$.dirty&5&&n(6,s=l[a]||0)},[a,o,l,r,i,u,s,c,f,m,d,h,_,p,g]}class Un extends se{constructor(t){super(),le(this,t,Kn,Vn,V,{codeName:0,formalName:1})}}function gt(e,t,n){const s=e.slice();return s[2]=t[n][0],s[3]=t[n][1],s[4]=t,s[5]=n,s}function bt(e){let t,n,s,l;function a(i){e[0](i,e[2],e[4],e[5])}function o(i){e[1](i,e[3],e[4],e[5])}let r={};return e[2]!==void 0&&(r.codeName=e[2]),e[3]!==void 0&&(r.formalName=e[3]),t=new Un({props:r}),M.push(()=>x(t,"codeName",a)),M.push(()=>x(t,"formalName",o)),{c(){ne(t.$$.fragment)},m(i,u){Y(t,i,u),l=!0},p(i,u){e=i;const c={};!n&&u&0&&(n=!0,c.codeName=e[2],X(()=>n=!1)),!s&&u&0&&(s=!0,c.formalName=e[3],X(()=>s=!1)),t.$set(c)},i(i){l||(q(t.$$.fragment,i),l=!0)},o(i){L(t.$$.fragment,i),l=!1},d(i){J(t,i)}}}function Zn(e){let t,n,s=re(Object.entries(Ue)),l=[];for(let o=0;o<s.length;o+=1)l[o]=bt(gt(e,s,o));const a=o=>L(l[o],1,1,()=>{l[o]=null});return{c(){t=v("div");for(let o=0;o<l.length;o+=1)l[o].c();b(t,"class","statBox svelte-lu37w6")},m(o,r){T(o,t,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(t,null);n=!0},p(o,[r]){if(r&0){s=re(Object.entries(Ue));let i;for(i=0;i<s.length;i+=1){const u=gt(o,s,i);l[i]?(l[i].p(u,r),q(l[i],1)):(l[i]=bt(u),l[i].c(),q(l[i],1),l[i].m(t,null))}for(Q(),i=s.length;i<l.length;i+=1)a(i);$()}},i(o){if(!n){for(let r=0;r<s.length;r+=1)q(l[r]);n=!0}},o(o){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)L(l[r]);n=!1},d(o){o&&B(t),qe(l,o)}}}function Yn(e,t,n){function s(a,o,r,i){r[i][0]=a}function l(a,o,r,i){r[i][1]=a}return[s,l]}class Jn extends se{constructor(t){super(),le(this,t,Yn,Zn,V,{})}}function Xn(e){let t,n,s,l,a,o,r,i,u,c;return{c(){t=v("div"),n=v("button"),n.textContent="-",s=A(),l=v("input"),a=A(),o=v("b"),o.textContent="%",r=A(),i=v("button"),i.textContent="+",b(n,"id","decrease"),b(n,"class","svelte-1d7zneu"),b(l,"type","number"),b(l,"placeholder","0"),b(l,"class","svelte-1d7zneu"),b(o,"class","svelte-1d7zneu"),b(i,"id","increase"),b(i,"class","svelte-1d7zneu"),b(t,"class","svelte-1d7zneu"),F(t,"non-percent",!e[1])},m(f,m){T(f,t,m),k(t,n),k(t,s),k(t,l),ut(l,e[0]),k(t,a),k(t,o),k(t,r),k(t,i),u||(c=[I(n,"click",e[4]),I(l,"input",e[5]),I(l,"input",e[2]),I(i,"click",e[6])],u=!0)},p(f,[m]){m&1&&At(l.value)!==f[0]&&ut(l,f[0])},i:P,o:P,d(f){f&&B(t),u=!1,G(c)}}}function Qn(e,t,n){let{weaponName:s,value:l}=t,a=s!="Nature's Wrath Spellbook",o;a?(l=100,o=100):(l=4,o=4);function r(){l<0?n(0,l=0):l>o&&n(0,l=o),l%1!=0&&n(0,l=Math.floor(l))}const i=()=>{n(0,l--,l),r()};function u(){l=At(this.value),n(0,l)}const c=()=>{n(0,l++,l),r()};return e.$$set=f=>{"weaponName"in f&&n(3,s=f.weaponName),"value"in f&&n(0,l=f.value)},[l,a,r,s,i,u,c]}class $n extends se{constructor(t){super(),le(this,t,Qn,Xn,V,{weaponName:3,value:0})}}function kt(e,t,n){const s=e.slice();s[40]=t[n];const l=s[40].name.includes("Fantastic Beamstorm")?"~":"";s[17]=l;const a=s[40].name.includes("Charged");return s[41]=a,s}function xn(e){let t,n,s=e[2].description+"",l,a;return{c(){t=v("span"),n=R('"'),l=R(s),a=R('"'),b(t,"class","svelte-s3h0h")},m(o,r){T(o,t,r),k(t,n),k(t,l),k(t,a)},p(o,r){r[0]&4&&s!==(s=o[2].description+"")&&Z(l,s)},d(o){o&&B(t)}}}function el(e){let t,n,s,l=`${e[13]?"Type":e[11].name}:`,a,o,r=e[15],i,u,c,f,m,d=e[13]?"Return":"Expand",h,_,p,g,E=wt(e),O=e[3]&&vt(e);return{c(){t=v("button"),n=v("div"),s=v("span"),a=R(l),o=A(),E.c(),u=A(),O&&O.c(),c=A(),f=v("span"),m=R("("),h=R(d),_=R(")"),b(s,"class","svelte-s3h0h"),W(s,"font-size",Object.keys(e[16]).includes(e[11].name)?`calc(var(--u) * ${e[16][e[11].name]})`:""),b(n,"id",i=e[13]?"":"basic"),b(n,"class","svelte-s3h0h"),b(f,"class","tooltip"),b(f,"id","top"),b(t,"class","gearPreview svelte-s3h0h"),W(t,"line-height",`${e[7]/6.5}px`)},m(N,C){T(N,t,C),k(t,n),k(n,s),k(s,a),k(n,o),E.m(n,null),k(t,u),O&&O.m(t,null),k(t,c),k(t,f),k(f,m),k(f,h),k(f,_),e[28](t),p||(g=I(t,"click",e[21]),p=!0)},p(N,C){C[0]&10240&&l!==(l=`${N[13]?"Type":N[11].name}:`)&&Z(a,l),C[0]&67584&&W(s,"font-size",Object.keys(N[16]).includes(N[11].name)?`calc(var(--u) * ${N[16][N[11].name]})`:""),C[0]&32768&&V(r,r=N[15])?(E.d(1),E=wt(N),E.c(),E.m(n,null)):E.p(N,C),C[0]&8192&&i!==(i=N[13]?"":"basic")&&b(n,"id",i),N[3]?O?O.p(N,C):(O=vt(N),O.c(),O.m(t,c)):O&&(O.d(1),O=null),C[0]&8192&&d!==(d=N[13]?"Return":"Expand")&&Z(h,d),C[0]&128&&W(t,"line-height",`${N[7]/6.5}px`)},d(N){N&&B(t),E.d(N),O&&O.d(),e[28](null),p=!1,g()}}}function wt(e){let t,n=(e[13]?e[2].info.type.replace("/","<b>, </b>"):e[19](e[11]))+"";return{c(){t=v("span"),b(t,"class","svelte-s3h0h")},m(s,l){T(s,t,l),t.innerHTML=n},p(s,l){l[0]&10244&&n!==(n=(s[13]?s[2].info.type.replace("/","<b>, </b>"):s[19](s[11]))+"")&&(t.innerHTML=n)},d(s){s&&B(t)}}}function vt(e){let t,n,s=`${e[13]?"Special":e[3].name.split(" (total)")[0]}:`,l,a,o=e[15],r,i=yt(e);return{c(){t=v("div"),n=v("span"),l=R(s),a=A(),i.c(),b(n,"class","svelte-s3h0h"),W(n,"font-size",Object.keys(e[16]).includes(e[3].name)?`calc(var(--u) * ${e[16][e[3].name]})`:""),b(t,"id",r=e[13]?"":"special"),b(t,"class","svelte-s3h0h")},m(u,c){T(u,t,c),k(t,n),k(n,l),k(t,a),i.m(t,null)},p(u,c){c[0]&8200&&s!==(s=`${u[13]?"Special":u[3].name.split(" (total)")[0]}:`)&&Z(l,s),c[0]&65544&&W(n,"font-size",Object.keys(u[16]).includes(u[3].name)?`calc(var(--u) * ${u[16][u[3].name]})`:""),c[0]&32768&&V(o,o=u[15])?(i.d(1),i=yt(u),i.c(),i.m(t,null)):i.p(u,c),c[0]&8192&&r!==(r=u[13]?"":"special")&&b(t,"id",r)},d(u){u&&B(t),i.d(u)}}}function yt(e){let t,n=(e[13]?e[2].info.special:e[17]+e[19](e[3]))+"",s;return{c(){t=v("span"),s=R(n),b(t,"class","svelte-s3h0h")},m(l,a){T(l,t,a),k(t,s)},p(l,a){a[0]&139276&&n!==(n=(l[13]?l[2].info.special:l[17]+l[19](l[3]))+"")&&Z(s,n)},d(l){l&&B(t)}}}function St(e){let t,n,s,l,a,o,r=e[2].name+"",i,u,c,f;return{c(){t=v("a"),n=v("img"),a=A(),o=v("span"),i=R(r),oe(n.src,s=e[2].image)||b(n,"src",s),b(n,"alt",l=e[2].name),b(n,"draggable","false"),b(n,"class","svelte-s3h0h"),b(o,"class","tooltip"),b(o,"id","right"),b(t,"href",u=e[2].link),b(t,"target","_blank"),b(t,"class","svelte-s3h0h"),W(t,"display",e[2].link?"":"none"),W(t,"border-radius",e[2].tool?"calc(var(--u))":"")},m(m,d){T(m,t,d),k(t,n),k(t,a),k(t,o),k(o,i),f=!0},p(m,d){(!f||d[0]&4&&!oe(n.src,s=m[2].image))&&b(n,"src",s),(!f||d[0]&4&&l!==(l=m[2].name))&&b(n,"alt",l),(!f||d[0]&4)&&r!==(r=m[2].name+"")&&Z(i,r),(!f||d[0]&4&&u!==(u=m[2].link))&&b(t,"href",u),d[0]&4&&W(t,"display",m[2].link?"":"none"),d[0]&4&&W(t,"border-radius",m[2].tool?"calc(var(--u))":"")},i(m){f||(m&&U(()=>{f&&(c||(c=ye(t,me,{duration:150},!0)),c.run(1))}),f=!0)},o(m){m&&(c||(c=ye(t,me,{duration:150},!1)),c.run(0)),f=!1},d(m){m&&B(t),m&&c&&c.end()}}}function Nt(e){let t,n,s,l,a,o,r,i,u,c,f,m=re(e[2].moves),d=[];for(let _=0;_<m.length;_+=1)d[_]=zt(kt(e,m,_));const h=_=>L(d[_],1,1,()=>{d[_]=null});return{c(){t=v("div"),n=v("div"),s=R(`Toggle base values\r
            `),l=v("input"),a=A(),o=v("div");for(let _=0;_<d.length;_+=1)d[_].c();b(l,"type","checkbox"),b(l,"class","svelte-s3h0h"),b(n,"class","toggleCont svelte-s3h0h"),b(o,"class","weaponMoves svelte-s3h0h"),b(t,"class","fullWeaponView svelte-s3h0h")},m(_,p){T(_,t,p),k(t,n),k(n,s),k(n,l),k(t,a),k(t,o);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(o,null);u=!0,c||(f=[I(l,"change",e[36]),I(l,"keypress",e[37])],c=!0)},p(_,p){if(p[0]&1622036){m=re(_[2].moves);let g;for(g=0;g<m.length;g+=1){const E=kt(_,m,g);d[g]?(d[g].p(E,p),q(d[g],1)):(d[g]=zt(E),d[g].c(),q(d[g],1),d[g].m(o,null))}for(Q(),g=m.length;g<d.length;g+=1)h(g);$()}},i(_){if(!u){for(let p=0;p<m.length;p+=1)q(d[p]);_&&U(()=>{u&&(i&&i.end(1),r=_n(t,me,{duration:150,delay:300}),r.start())}),u=!0}},o(_){d=d.filter(Boolean);for(let p=0;p<d.length;p+=1)L(d[p]);r&&r.invalidate(),_&&(i=hn(t,me,{duration:150})),u=!1},d(_){_&&B(t),qe(d,_),_&&i&&i.end(),c=!1,G(f)}}}function Ot(e){let t,n,s,l;function a(i){e[38](i)}function o(i){e[39](i)}let r={};return e[4]!==void 0&&(r.value=e[4]),e[2].name!==void 0&&(r.weaponName=e[2].name),t=new $n({props:r}),M.push(()=>x(t,"value",a)),M.push(()=>x(t,"weaponName",o)),{c(){ne(t.$$.fragment)},m(i,u){Y(t,i,u),l=!0},p(i,u){const c={};!n&&u[0]&16&&(n=!0,c.value=i[4],X(()=>n=!1)),!s&&u[0]&4&&(s=!0,c.weaponName=i[2].name,X(()=>s=!1)),t.$set(c)},i(i){l||(q(t.$$.fragment,i),l=!0)},o(i){L(t.$$.fragment,i),l=!1},d(i){J(t,i)}}}function Et(e){let t,n=e[17]+(e[14]&&!e[41]?e[40].base:e[41]?e[20](e[40]):e[19](e[40]))+"",s;return{c(){t=v("span"),s=R(n),b(t,"class","svelte-s3h0h")},m(l,a){T(l,t,a),k(t,s)},p(l,a){a[0]&16388&&n!==(n=l[17]+(l[14]&&!l[41]?l[40].base:l[41]?l[20](l[40]):l[19](l[40]))+"")&&Z(s,n)},d(l){l&&B(t)}}}function zt(e){let t,n,s,l,a=(e[41]&&e[2].name=="Nature's Wrath Spellbook"?e[40].name.replace("Charged","Charge(s)"):e[40].name)+":",o,r,i=e[41]?[e[15],e[4]]:e[15],u,c,f=e[41]&&Ot(e),m=Et(e);return{c(){t=v("div"),n=v("div"),s=v("span"),f&&f.c(),l=A(),o=R(a),r=A(),m.c(),u=A(),b(s,"class","svelte-s3h0h"),b(n,"class","svelte-s3h0h"),b(t,"class","svelte-s3h0h")},m(d,h){T(d,t,h),k(t,n),k(n,s),f&&f.m(s,null),k(s,l),k(s,o),k(n,r),m.m(n,null),k(t,u),c=!0},p(d,h){d[41]?f?(f.p(d,h),h[0]&4&&q(f,1)):(f=Ot(d),f.c(),q(f,1),f.m(s,l)):f&&(Q(),L(f,1,1,()=>{f=null}),$()),(!c||h[0]&4)&&a!==(a=(d[41]&&d[2].name=="Nature's Wrath Spellbook"?d[40].name.replace("Charged","Charge(s)"):d[40].name)+":")&&Z(o,a),h[0]&32788&&V(i,i=d[41]?[d[15],d[4]]:d[15])?(m.d(1),m=Et(d),m.c(),m.m(n,null)):m.p(d,h)},i(d){c||(q(f),c=!0)},o(d){L(f),c=!1},d(d){d&&B(t),f&&f.d(),m.d(d)}}}function tl(e){let t,n,s,l,a,o,r=e[2],i,u,c,f,m,d,h,_,p,g,E;function O(D,j){if(D[2].name&&!D[2].tool)return el;if(D[2].tool)return xn}let N=O(e),C=N&&N(e),z=St(e);function H(D){e[32](D)}function ee(D){e[33](D)}let ae={slotName:e[0],index:e[1]};e[12]!==void 0&&(ae.slotOpen=e[12]),e[13]!==void 0&&(ae.weaponExpand=e[13]),f=new Rt({props:ae}),M.push(()=>x(f,"slotOpen",H)),M.push(()=>x(f,"weaponExpand",ee)),f.$on("itemSelect",e[34]);let S=e[13]&&Nt(e);return{c(){t=v("div"),n=v("button"),n.innerHTML=`<iconify-icon icon="iconamoon:arrow-down-2-fill" rotate="90deg" class="svelte-s3h0h"></iconify-icon>
        Gear`,s=A(),l=v("div"),C&&C.c(),a=A(),o=v("div"),z.c(),c=A(),ne(f.$$.fragment),h=A(),S&&S.c(),_=Pt(),b(n,"class","ddButton svelte-s3h0h"),b(o,"class","gearSlotIcon svelte-s3h0h"),U(()=>e[29].call(o)),W(o,"min-width",`${e[8]}px`),b(l,"class","gearInfoCont svelte-s3h0h"),U(()=>e[31].call(l)),W(l,"justify-content",e[2].name?"":"flex-end"),b(t,"class","gearSlot svelte-s3h0h"),F(t,"slotOpen",e[12]),F(t,"weapon-expand",e[13])},m(D,j){T(D,t,j),k(t,n),e[26](n),k(t,s),k(t,l),C&&C.m(l,null),k(l,a),k(l,o),z.m(o,null),i=Le(o,e[29].bind(o)),e[30](l),u=Le(l,e[31].bind(l)),k(t,c),Y(f,t,null),e[35](t),T(D,h,j),S&&S.m(D,j),T(D,_,j),p=!0,g||(E=[I(window,"mousedown",e[24]),I(window,"keydown",e[25]),I(n,"click",e[27])],g=!0)},p(D,j){N===(N=O(D))&&C?C.p(D,j):(C&&C.d(1),C=N&&N(D),C&&(C.c(),C.m(l,a))),j[0]&4&&V(r,r=D[2])?(Q(),L(z,1,1,P),$(),z=St(D),z.c(),q(z,1),z.m(o,null)):z.p(D,j),j[0]&256&&W(o,"min-width",`${D[8]}px`),j[0]&4&&W(l,"justify-content",D[2].name?"":"flex-end");const y={};j[0]&1&&(y.slotName=D[0]),j[0]&2&&(y.index=D[1]),!m&&j[0]&4096&&(m=!0,y.slotOpen=D[12],X(()=>m=!1)),!d&&j[0]&8192&&(d=!0,y.weaponExpand=D[13],X(()=>d=!1)),f.$set(y),(!p||j[0]&4096)&&F(t,"slotOpen",D[12]),(!p||j[0]&8192)&&F(t,"weapon-expand",D[13]),D[13]?S?(S.p(D,j),j[0]&8192&&q(S,1)):(S=Nt(D),S.c(),q(S,1),S.m(_.parentNode,_)):S&&(Q(),L(S,1,1,()=>{S=null}),$())},i(D){p||(q(z),q(f.$$.fragment,D),q(S),p=!0)},o(D){L(z),L(f.$$.fragment,D),L(S),p=!1},d(D){D&&(B(t),B(h),B(_)),e[26](null),C&&C.d(),z.d(D),i(),e[30](null),u(),J(f),e[35](null),S&&S.d(D),g=!1,G(E)}}}function nl(e,t,n){let s,l,a;te(e,Ke,w=>n(23,s=w)),te(e,ke,w=>n(15,l=w)),te(e,He,w=>n(16,a=w));let{gearBox:o,slotName:r,index:i}=t,u,c,f,m,d,h,_,p=jt,g,E,O,N,C,z="";function H(){if(_)for(let w of _.querySelectorAll(".gearPreview > div")){if(Object.keys(a).includes(w.id=="basic"?g.name:E.name))return;let K=vn(w);K&&(w.id=="basic"?pe(He,a[g.name]=K,a):pe(He,a[E.name]=K,a))}}function ee(w){let K;if(w.name=="Void Needle")K=w.base+(l[w.type]||0)-(l.armor||0)*5.625;else if(p.name=="Pureblood Dagger"){let fe,de={magicDmg:l.magicDmg||0,meleeDmg:l.meleeDmg||0,rangedDmg:l.rangedDmg||0},Se=Object.keys(de).reduce((Ne,ot)=>de[Ne]>de[ot]?Ne:ot),it=0;for(let Ne in de)Ne!=Se&&(it+=de[Ne]);fe=(l[Se]||0)*2-it,K=w.base+fe,w.name=="HP restored per Blood Sap"&&(K=w.base+fe/2)}else if(w.type.includes("/")){let fe=w.type.split("/"),de=0;for(let Se of fe)de+=(l[Se]||0)*w[`${Se}Mult`];K=w.base+de}else K=w.base+(l[w.type]||0)*w.mult;return N?Math.floor(K*10)/10:Math.floor(K)}function ae(w){let K,fe=C?0:l[w.type]||0;return p.name=="Celestial Powers Spellbook"?K=(80+fe*1.1)*(.8+2.2*u/100):p.name=="Staff of Dreams"?K=160+160*u/100+fe*(.4+1.3*u/100):p.name=="Nature's Wrath Spellbook"&&(K=260+400*u/4+fe*(1+1.5*u/4)),Math.floor(K*10)/10}function S(){n(14,C=!1),N?(n(13,N=!1),o.classList.remove("weapon-expand"),setTimeout(()=>{H()})):(o.classList.add("weapon-expand"),n(13,N=!0))}const D=w=>{(!c.contains(w.target)||c.contains(w.target)&&f.contains(w.target))&&n(12,O=!1)},j=w=>{w.key=="Escape"&&n(12,O=!1)};function y(w){M[w?"unshift":"push"](()=>{h=w,n(9,h)})}const ue=()=>n(12,O=!O);function st(w){M[w?"unshift":"push"](()=>{_=w,n(10,_)})}function Ht(){d=this.offsetHeight,n(8,d)}function Wt(w){M[w?"unshift":"push"](()=>{f=w,n(6,f)})}function Gt(){m=this.offsetHeight,n(7,m)}function Vt(w){O=w,n(12,O)}function Kt(w){N=w,n(13,N)}const Ut=()=>{setTimeout(()=>{H(),!p.name&&N&&S()})};function Zt(w){M[w?"unshift":"push"](()=>{c=w,n(5,c)})}const Yt=w=>n(14,C=w.target.checked),Jt=w=>{w.key=="Enter"&&(w.target.checked=!w.target.checked,n(14,C=w.target.checked))};function Xt(w){u=w,n(4,u)}function Qt(w){e.$$.not_equal(p.name,w)&&(p.name=w,n(2,p),n(23,s),n(1,i),n(3,E))}return e.$$set=w=>{"gearBox"in w&&n(22,o=w.gearBox),"slotName"in w&&n(0,r=w.slotName),"index"in w&&n(1,i=w.index)},e.$$.update=()=>{e.$$.dirty[0]&8388622&&s[i]&&s[i].name!=p.name&&(n(2,p=s[i]),!p.tool&&p.name&&(n(11,g=p.moves.filter(w=>w.basic)[0]),n(3,E=p.moves.filter(w=>w.special)[0]),E&&E.name.includes("Fantastic Beamstorm")?n(17,z="~"):n(17,z="")))},[r,i,p,E,u,c,f,m,d,h,_,g,O,N,C,l,a,z,H,ee,ae,S,o,s,D,j,y,ue,st,Ht,Wt,Gt,Vt,Kt,Ut,Zt,Yt,Jt,Xt,Qt]}class ll extends se{constructor(t){super(),le(this,t,nl,tl,V,{gearBox:22,slotName:0,index:1},null,[-1,-1])}}function qt(e,t,n){const s=e.slice();return s[3]=t[n],s}function Ct(e){let t,n,s;function l(o){e[1](o)}let a={slotName:"gear",index:e[3]};return e[0]!==void 0&&(a.gearBox=e[0]),t=new ll({props:a}),M.push(()=>x(t,"gearBox",l)),{c(){ne(t.$$.fragment)},m(o,r){Y(t,o,r),s=!0},p(o,r){const i={};!n&&r&1&&(n=!0,i.gearBox=o[0],X(()=>n=!1)),t.$set(i)},i(o){s||(q(t.$$.fragment,o),s=!0)},o(o){L(t.$$.fragment,o),s=!1},d(o){J(t,o)}}}function sl(e){let t,n,s=re([1,2,3,4,5]),l=[];for(let o=0;o<5;o+=1)l[o]=Ct(qt(e,s,o));const a=o=>L(l[o],1,1,()=>{l[o]=null});return{c(){t=v("div");for(let o=0;o<5;o+=1)l[o].c();b(t,"class","gearBox svelte-1wzbg66")},m(o,r){T(o,t,r);for(let i=0;i<5;i+=1)l[i]&&l[i].m(t,null);e[2](t),n=!0},p(o,[r]){if(r&1){s=re([1,2,3,4,5]);let i;for(i=0;i<5;i+=1){const u=qt(o,s,i);l[i]?(l[i].p(u,r),q(l[i],1)):(l[i]=Ct(u),l[i].c(),q(l[i],1),l[i].m(t,null))}for(Q(),i=5;i<5;i+=1)a(i);$()}},i(o){if(!n){for(let r=0;r<5;r+=1)q(l[r]);n=!0}},o(o){l=l.filter(Boolean);for(let r=0;r<5;r+=1)L(l[r]);n=!1},d(o){o&&B(t),qe(l,o),e[2](null)}}}function il(e,t,n){let s;function l(o){s=o,n(0,s)}function a(o){M[o?"unshift":"push"](()=>{s=o,n(0,s)})}return[s,l,a]}class ol extends se{constructor(t){super(),le(this,t,il,sl,V,{})}}function Dt(e){let t,n,s=Math.floor(e[5][e[3]]*100)+"",l,a,o,r;return{c(){t=v("div"),n=R("Zoom: "),l=R(s),a=v("b"),a.textContent="%",b(t,"class","zoomLevel svelte-d8m7pg")},m(i,u){T(i,t,u),k(t,n),k(t,l),k(t,a),r=!0},p(i,u){(!r||u&8)&&s!==(s=Math.floor(i[5][i[3]]*100)+"")&&Z(l,s)},i(i){r||(i&&U(()=>{r&&(o||(o=ye(t,me,{duration:150},!0)),o.run(1))}),r=!0)},o(i){i&&(o||(o=ye(t,me,{duration:150},!1)),o.run(0)),r=!1},d(i){i&&B(t),i&&o&&o.end()}}}function rl(e){let t,n,s,l,a,o,r,i,u,c,f,m,d,h;U(e[10]);let _=e[4]&&Dt(e);return r=new Hn({}),u=new Jn({}),f=new ol({}),{c(){t=v("div"),t.textContent=`v${al}`,n=A(),_&&_.c(),s=A(),l=v("main"),a=v("div"),o=v("div"),ne(r.$$.fragment),i=A(),ne(u.$$.fragment),c=A(),ne(f.$$.fragment),b(t,"style","position: absolute; padding: var(--u); font-size: calc(var(--u) * 2.5); color: var(--light);"),b(o,"class","eqCont svelte-d8m7pg"),b(a,"class","calcBox svelte-d8m7pg"),b(l,"class","svelte-d8m7pg"),F(l,"portrait-NOT",!e[2])},m(p,g){T(p,t,g),T(p,n,g),_&&_.m(p,g),T(p,s,g),T(p,l,g),k(l,a),k(a,o),Y(r,o,null),k(o,i),Y(u,o,null),k(a,c),Y(f,a,null),m=!0,d||(h=[I(window,"wheel",e[8],{passive:!1}),I(window,"keydown",e[9]),I(window,"resize",e[10])],d=!0)},p(p,[g]){p[4]?_?(_.p(p,g),g&16&&q(_,1)):(_=Dt(p),_.c(),q(_,1),_.m(s.parentNode,s)):_&&(Q(),L(_,1,1,()=>{_=null}),$()),(!m||g&4)&&F(l,"portrait-NOT",!p[2])},i(p){m||(q(_),q(r.$$.fragment,p),q(u.$$.fragment,p),q(f.$$.fragment,p),m=!0)},o(p){L(_),L(r.$$.fragment,p),L(u.$$.fragment,p),L(f.$$.fragment,p),m=!1},d(p){p&&(B(t),B(n),B(s),B(l)),_&&_.d(p),J(r),J(u),J(f),d=!1,G(h)}}}let al="3.11.1-alpha";function ul(e,t,n){let s;te(e,nt,p=>n(7,s=p));let l,a,o,r=7,i=[.2,.3,.45,.6,.75,.85,.95,1,1.1,1.25,1.5,1.75,2,2.5,3,4,5],u=!1,c;Qe(()=>{n(2,o=a>l)});function f(){c=setTimeout(()=>{n(4,u=!1)},2e3)}function m(){clearTimeout(c),n(4,u=!0),f()}const d=p=>{let g=p.wheelDeltaY;if(p.ctrlKey){if(p.preventDefault(),i[r]==.2&&g<0||i[r]==5&&g>0)return;g>0?n(3,r++,r):n(3,r--,r),m()}},h=p=>{p.ctrlKey&&(p.key=="-"||p.key=="+"||p.code=="Equal")&&(p.preventDefault(),(p.key=="+"||p.code=="Equal")&&i[r]!=5?n(3,r++,r):p.key=="-"&&i[r]!=.2&&n(3,r--,r),m())};function _(){n(0,l=window.outerHeight),n(1,a=window.outerWidth)}return e.$$.update=()=>{if(e.$$.dirty&131&&(a||l)&&(n(2,o=a>l),s))for(let p of s)lt(p.node,p.itemName);e.$$.dirty&12&&(o?document.documentElement.style.setProperty("--u",`${.75*i[r]}vh`):document.documentElement.style.setProperty("--u","0.75vh"))},[l,a,o,r,u,i,m,s,d,h,_]}class fl extends se{constructor(t){super(),le(this,t,ul,rl,V,{})}}new fl({target:document.body});
