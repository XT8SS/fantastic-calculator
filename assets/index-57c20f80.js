var Jt=Object.defineProperty;var Xt=(e,t,n)=>t in e?Jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var He=(e,t,n)=>(Xt(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function T(){}const je=e=>e;function Qt(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function Lt(e){return e()}function ut(){return Object.create(null)}function U(e){e.forEach(Lt)}function Ce(e){return typeof e=="function"}function G(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Ie;function re(e,t){return e===t?!0:(Ie||(Ie=document.createElement("a")),Ie.href=t,e===Ie.href)}function $t(e){return Object.keys(e).length===0}function xt(e,...t){if(e==null){for(const i of t)i(void 0);return T}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function te(e,t,n){e.$$.on_destroy.push(xt(t,n))}function pe(e,t,n){return e.set(n),t}const Pt=typeof window<"u";let Je=Pt?()=>window.performance.now():()=>Date.now(),Xe=Pt?e=>requestAnimationFrame(e):T;const ke=new Set;function Tt(e){ke.forEach(t=>{t.c(e)||(ke.delete(t),t.f())}),ke.size!==0&&Xe(Tt)}function Qe(e){let t;return ke.size===0&&Xe(Tt),{promise:new Promise(n=>{ke.add(t={c:e,f:n})}),abort(){ke.delete(t)}}}function w(e,t){e.appendChild(t)}function At(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function en(e){const t=v("style");return t.textContent="/* empty */",tn(At(e),t),t.sheet}function tn(e,t){return w(e.head||e,t),t.sheet}function L(e,t,n){e.insertBefore(t,n||null)}function D(e){e.parentNode&&e.parentNode.removeChild(e)}function Be(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function H(e){return document.createTextNode(e)}function F(){return H(" ")}function Ft(){return H("")}function P(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function g(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ft(e,t,n){t in e?e[t]=typeof e[t]=="boolean"&&n===""?!0:n:g(e,t,n)}function Mt(e){return e===""?null:+e}function nn(e){return Array.from(e.childNodes)}function Z(e,t){t=""+t,e.data!==t&&(e.data=t)}function ct(e,t){e.value=t??""}function R(e,t,n,i){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}let Le;function ln(){if(Le===void 0){Le=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Le=!0}}return Le}function ze(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const i=v("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const l=ln();let a;return l?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",a=P(window,"message",o=>{o.source===i.contentWindow&&t()})):(i.src="about:blank",i.onload=()=>{a=P(i.contentWindow,"resize",t),t()}),w(e,i),()=>{(l||a&&i.contentWindow)&&a(),D(i)}}function A(e,t,n){e.classList.toggle(t,!!n)}function jt(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}const Te=new Map;let Ae=0;function on(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function sn(e,t){const n={stylesheet:en(t),rules:{}};return Te.set(e,n),n}function Fe(e,t,n,i,l,a,o,r=0){const s=16.666/i;let u=`{
`;for(let _=0;_<=1;_+=s){const b=t+(n-t)*a(_);u+=_*100+`%{${o(b,1-b)}}
`}const c=u+`100% {${o(n,1-n)}}
}`,f=`__svelte_${on(c)}_${r}`,d=At(e),{stylesheet:m,rules:p}=Te.get(d)||sn(d,e);p[f]||(p[f]=!0,m.insertRule(`@keyframes ${f} ${c}`,m.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${f} ${i}ms linear ${l}ms 1 both`,Ae+=1,f}function Me(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?a=>a.indexOf(t)<0:a=>a.indexOf("__svelte")===-1),l=n.length-i.length;l&&(e.style.animation=i.join(", "),Ae-=l,Ae||rn())}function rn(){Xe(()=>{Ae||(Te.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&D(t)}),Te.clear())})}let qe;function ce(e){qe=e}function $e(){if(!qe)throw new Error("Function called outside component initialization");return qe}function xe(e){$e().$$.on_mount.push(e)}function et(){const e=$e();return(t,n,{cancelable:i=!1}={})=>{const l=e.$$.callbacks[t];if(l){const a=jt(t,n,{cancelable:i});return l.slice().forEach(o=>{o.call(e,a)}),!a.defaultPrevented}return!0}}const be=[],M=[];let ve=[];const Ve=[],an=Promise.resolve();let Ke=!1;function un(){Ke||(Ke=!0,an.then(tt))}function K(e){ve.push(e)}function X(e){Ve.push(e)}const We=new Set;let he=0;function tt(){if(he!==0)return;const e=qe;do{try{for(;he<be.length;){const t=be[he];he++,ce(t),fn(t.$$)}}catch(t){throw be.length=0,he=0,t}for(ce(null),be.length=0,he=0;M.length;)M.pop()();for(let t=0;t<ve.length;t+=1){const n=ve[t];We.has(n)||(We.add(n),n())}ve.length=0}while(be.length);for(;Ve.length;)Ve.pop()();Ke=!1,We.clear(),ce(e)}function fn(e){if(e.fragment!==null){e.update(),U(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(K)}}function cn(e){const t=[],n=[];ve.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),ve=t}let Ee;function nt(){return Ee||(Ee=Promise.resolve(),Ee.then(()=>{Ee=null})),Ee}function _e(e,t,n){e.dispatchEvent(jt(`${t?"intro":"outro"}${n}`))}const Pe=new Set;let se;function Q(){se={r:0,c:[],p:se}}function $(){se.r||U(se.c),se=se.p}function E(e,t){e&&e.i&&(Pe.delete(e),e.i(t))}function I(e,t,n,i){if(e&&e.o){if(Pe.has(e))return;Pe.add(e),se.c.push(()=>{Pe.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}const lt={duration:0};function dn(e,t,n){const i={direction:"in"};let l=t(e,n,i),a=!1,o,r,s=0;function u(){o&&Me(e,o)}function c(){const{delay:d=0,duration:m=300,easing:p=je,tick:h=T,css:_}=l||lt;_&&(o=Fe(e,0,1,m,d,p,_,s++)),h(0,1);const b=Je()+d,z=b+m;r&&r.abort(),a=!0,K(()=>_e(e,!0,"start")),r=Qe(S=>{if(a){if(S>=z)return h(1,0),_e(e,!0,"end"),u(),a=!1;if(S>=b){const N=p((S-b)/m);h(N,1-N)}}return a})}let f=!1;return{start(){f||(f=!0,Me(e),Ce(l)?(l=l(i),nt().then(c)):c())},invalidate(){f=!1},end(){a&&(u(),a=!1)}}}function mn(e,t,n){const i={direction:"out"};let l=t(e,n,i),a=!0,o;const r=se;r.r+=1;let s;function u(){const{delay:c=0,duration:f=300,easing:d=je,tick:m=T,css:p}=l||lt;p&&(o=Fe(e,1,0,f,c,d,p));const h=Je()+c,_=h+f;K(()=>_e(e,!1,"start")),"inert"in e&&(s=e.inert,e.inert=!0),Qe(b=>{if(a){if(b>=_)return m(0,1),_e(e,!1,"end"),--r.r||U(r.c),!1;if(b>=h){const z=d((b-h)/f);m(1-z,z)}}return a})}return Ce(l)?nt().then(()=>{l=l(i),u()}):u(),{end(c){c&&"inert"in e&&(e.inert=s),c&&l.tick&&l.tick(1,0),a&&(o&&Me(e,o),a=!1)}}}function ye(e,t,n,i){let a=t(e,n,{direction:"both"}),o=i?0:1,r=null,s=null,u=null,c;function f(){u&&Me(e,u)}function d(p,h){const _=p.b-o;return h*=Math.abs(_),{a:o,b:p.b,d:_,duration:h,start:p.start,end:p.start+h,group:p.group}}function m(p){const{delay:h=0,duration:_=300,easing:b=je,tick:z=T,css:S}=a||lt,N={start:Je()+h,b:p};p||(N.group=se,se.r+=1),"inert"in e&&(p?c!==void 0&&(e.inert=c):(c=e.inert,e.inert=!0)),r||s?s=N:(S&&(f(),u=Fe(e,o,p,_,h,b,S)),p&&z(0,1),r=d(N,_),K(()=>_e(e,p,"start")),Qe(C=>{if(s&&C>s.start&&(r=d(s,_),s=null,_e(e,r.b,"start"),S&&(f(),u=Fe(e,o,r.b,r.duration,0,b,a.css))),r){if(C>=r.end)z(o=r.b,1-o),_e(e,r.b,"end"),s||(r.b?f():--r.group.r||U(r.group.c)),r=null;else if(C>=r.start){const q=C-r.start;o=r.a+r.d*b(q/r.duration),z(o,1-o)}}return!!(r||s)}))}return{run(p){Ce(a)?nt().then(()=>{a=a({direction:p?"in":"out"}),m(p)}):m(p)},end(){f(),r=s=null}}}function pn(e,t){const n=t.token={};function i(l,a,o,r){if(t.token!==n)return;t.resolved=r;let s=t.ctx;o!==void 0&&(s=s.slice(),s[o]=r);const u=l&&(t.current=l)(s);let c=!1;t.block&&(t.blocks?t.blocks.forEach((f,d)=>{d!==a&&f&&(Q(),I(f,1,1,()=>{t.blocks[d]===f&&(t.blocks[d]=null)}),$())}):t.block.d(1),u.c(),E(u,1),u.m(t.mount(),t.anchor),c=!0),t.block=u,t.blocks&&(t.blocks[a]=u),c&&tt()}if(Qt(e)){const l=$e();if(e.then(a=>{ce(l),i(t.then,1,t.value,a),ce(null)},a=>{if(ce(l),i(t.catch,2,t.error,a),ce(null),!t.hasCatch)throw a}),t.current!==t.pending)return i(t.pending,0),!0}else{if(t.current!==t.then)return i(t.then,1,t.value,e),!0;t.resolved=e}}function _n(e,t,n){const i=t.slice(),{resolved:l}=e;e.current===e.then&&(i[e.value]=l),e.current===e.catch&&(i[e.error]=l),e.block.p(i,n)}function ae(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function x(e,t,n){const i=e.$$.props[t];i!==void 0&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function ne(e){e&&e.c()}function Y(e,t,n){const{fragment:i,after_update:l}=e.$$;i&&i.m(t,n),K(()=>{const a=e.$$.on_mount.map(Lt).filter(Ce);e.$$.on_destroy?e.$$.on_destroy.push(...a):U(a),e.$$.on_mount=[]}),l.forEach(K)}function J(e,t){const n=e.$$;n.fragment!==null&&(cn(n.after_update),U(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function hn(e,t){e.$$.dirty[0]===-1&&(be.push(e),un(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function le(e,t,n,i,l,a,o=null,r=[-1]){const s=qe;ce(e);const u=e.$$={fragment:null,ctx:[],props:a,update:T,not_equal:l,bound:ut(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:ut(),dirty:r,skip_bound:!1,root:t.target||s.$$.root};o&&o(u.root);let c=!1;if(u.ctx=n?n(e,t.props||{},(f,d,...m)=>{const p=m.length?m[0]:d;return u.ctx&&l(u.ctx[f],u.ctx[f]=p)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](p),c&&hn(e,f)),d}):[],u.update(),c=!0,U(u.before_update),u.fragment=i?i(u.ctx):!1,t.target){if(t.hydrate){const f=nn(t.target);u.fragment&&u.fragment.l(f),f.forEach(D)}else u.fragment&&u.fragment.c();t.intro&&E(e.$$.fragment),Y(e,t.target,t.anchor),tt()}ce(s)}class ie{constructor(){He(this,"$$");He(this,"$$set")}$destroy(){J(this,1),this.$destroy=T}$on(t,n){if(!Ce(n))return T;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1)}}$set(t){this.$$set&&!$t(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const gn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(gn);const ge=[];function De(e,t=T){let n;const i=new Set;function l(r){if(G(e,r)&&(e=r,n)){const s=!ge.length;for(const u of i)u[1](),ge.push(u,e);if(s){for(let u=0;u<ge.length;u+=2)ge[u][0](ge[u+1]);ge.length=0}}}function a(r){l(r(e))}function o(r,s=T){const u=[r,s];return i.add(u),i.size===1&&(n=t(l,a)||T),r(e),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:l,update:a,subscribe:o}}let Ue=De({}),we=De({}),Ze=De({}),it=De([]),Ge=De({}),Ye={armor:"Armor",magicDmg:"Magic",meleeDmg:"Melee",rangedDmg:"Ranged",hpRegen:"HP Regen",endurance:"Endurance",sightRange:"Sight Range",walkSpeed:"Walk Speed",jumpPower:"Jump Power",ammoReturn:"Ammo Return",height:"Height"},dt=["head","body","legs","feet","neck","back","ring","misc"],Rt={name:"",stats:{armor:0,magicDmg:0,meleeDmg:0,rangedDmg:0,hpRegen:0,endurance:0,sightRange:0,walkSpeed:0,jumpPower:0,ammoReturn:0,height:0},image:"",link:""},Ht={name:"",info:{type:"",special:""},moves:[],image:"",link:""};function ot(e,t){let n=2.8,i=t.split(" ").length,l=e.querySelector("span");if(l.style.removeProperty("font-size"),i>2&&t.length/i>=5){for(;l.offsetHeight>e.offsetHeight/3*2;)n-=.05,l.style.fontSize=`calc(var(--u) * ${n})`;return n<2.8}}function bn(e){let t=2.8,n=e.querySelector("span");for(n.style.removeProperty("font-size");n.offsetWidth>e.offsetWidth;)t-=.05,n.style.fontSize=`calc(var(--u) * ${t})`;for(;n.offsetHeight>e.offsetHeight/5*3.25;)t-=.05,n.style.fontSize=`calc(var(--u) * ${t})`;if(t<2.8)return t}function wn(e){let t=2.35,n=e.querySelector(".tooltip");for(n.style.removeProperty("font-size");n.offsetHeight>e.offsetHeight*1.125;)t-=.02,n.style.fontSize=`calc(var(--u) * ${t})`}function kn(e){let t,n,i,l,a,o,r,s;return{c(){t=v("li"),n=v("button"),i=v("img"),a=F(),o=v("span"),o.textContent=`${e[3]}`,re(i.src,l=e[0].image)||g(i,"src",l),g(i,"alt",""),A(t,"selectedItem",e[2])},m(u,c){L(u,t,c),w(t,n),w(n,i),w(n,a),w(n,o),e[7](t),r||(s=P(n,"click",e[4]),r=!0)},p(u,[c]){c&1&&!re(i.src,l=u[0].image)&&g(i,"src",l),c&4&&A(t,"selectedItem",u[2])},i:T,o:T,d(u){u&&D(t),e[7](null),r=!1,s()}}}function vn(e,t,n){let i,l,a;te(e,we,h=>n(8,i=h)),te(e,Ue,h=>n(9,l=h)),te(e,it,h=>n(10,a=h));let{itemData:o,slotOpen:r,eqSlotName:s}=t;const u=et();let c,f=!1,d=o.name;xe(()=>{ot(c,d)&&a.push({node:c,itemName:d})});function m(h){if(r||!r&&h.isTrusted==!1){u("itemSelect",c),c.classList.contains("selectedItem")||n(2,f=!1),n(2,f=!f),n(5,r=!1),pe(Ue,l[s]=f?o:Rt,l);for(let _ of Object.keys(Ye)){pe(we,i[_]=0,i);for(let b in l)pe(we,i[_]+=l[b].stats[_],i),pe(we,i[_]=Math.round(i[_]*10)/10,i)}}}function p(h){M[h?"unshift":"push"](()=>{c=h,n(1,c)})}return e.$$set=h=>{"itemData"in h&&n(0,o=h.itemData),"slotOpen"in h&&n(5,r=h.slotOpen),"eqSlotName"in h&&n(6,s=h.eqSlotName)},[o,c,f,d,m,r,s,p]}class yn extends ie{constructor(t){super(),le(this,t,vn,kn,G,{itemData:0,slotOpen:5,eqSlotName:6})}}function Sn(e){let t,n,i,l,a,o,r,s,u;return{c(){t=v("li"),n=v("button"),i=v("img"),a=F(),o=v("span"),o.textContent=`${e[4]}`,re(i.src,l=e[0].image)||g(i,"src",l),g(i,"alt",""),n.disabled=r=!e[3],A(t,"selectedItem",e[2]),A(t,"non-eligible",!e[3])},m(c,f){L(c,t,f),w(t,n),w(n,i),w(n,a),w(n,o),e[10](t),s||(u=P(n,"click",e[5]),s=!0)},p(c,[f]){f&1&&!re(i.src,l=c[0].image)&&g(i,"src",l),f&8&&r!==(r=!c[3])&&(n.disabled=r),f&4&&A(t,"selectedItem",c[2]),f&8&&A(t,"non-eligible",!c[3])},i:T,o:T,d(c){c&&D(t),e[10](null),s=!1,u()}}}function Nn(e,t,n){let i,l;te(e,Ze,b=>n(9,i=b)),te(e,it,b=>n(11,l=b));let{itemData:a,slotOpen:o,index:r,weaponExpand:s}=t;const u=et();let c,f=!1,d=!0,m=a.name,p={"Orange Salamander":["Green Salamander","Purple Salamander"],"Green Salamander":["Orange Salamander","Purple Salamander"],"Purple Salamander":["Orange Salamander","Green Salamander"],"White Salamander":["Black Salamander","Gold Salamander"],"Black Salamander":["White Salamander","Gold Salamander"],"Gold Salamander":["White Salamander","Black Salamander"]};xe(()=>{ot(c,m)&&l.push({node:c,itemName:m})});function h(b){d&&(o||!o&&b.isTrusted==!1)&&(u("itemSelect",c),c.classList.contains("selectedItem")||n(2,f=!1),n(2,f=!f),n(6,o=!1),pe(Ze,i[r]=f?a:Ht,i))}function _(b){M[b?"unshift":"push"](()=>{c=b,n(1,c)})}return e.$$set=b=>{"itemData"in b&&n(0,a=b.itemData),"slotOpen"in b&&n(6,o=b.slotOpen),"index"in b&&n(7,r=b.index),"weaponExpand"in b&&n(8,s=b.weaponExpand)},e.$$.update=()=>{if(e.$$.dirty&897&&i)for(let b in i)if(b!=r&&(i[b].name==m||p[i[b].name]&&p[i[b].name].includes(m))){n(3,d=!1);break}else!s&&!a.tool&&n(3,d=!0);if(e.$$.dirty&897){if(s)a.tool&&n(3,d=!1);else if(a.tool)for(let b in i)if(b!=r&&i[b].name==m){n(3,d=!1);break}else n(3,d=!0)}},[a,c,f,d,m,h,o,r,s,i,_]}class On extends ie{constructor(t){super(),le(this,t,Nn,Sn,G,{itemData:0,slotOpen:6,index:7,weaponExpand:8})}}function mt(e,t,n){const i=e.slice();return i[29]=t[n],i}function En(e){return{c:T,m:T,p:T,i:T,o:T,d:T}}function zn(e){let t,n,i,l,a,o,r,s=ae(e[28]),u=[];for(let f=0;f<s.length;f+=1)u[f]=pt(mt(e,s,f));const c=f=>I(u[f],1,1,()=>{u[f]=null});return{c(){t=v("div"),n=v("input"),i=F(),l=v("ul");for(let f=0;f<u.length;f+=1)u[f].c();g(n,"type","text"),g(n,"class","searchBarInput svelte-668kzw"),g(n,"placeholder","Search..."),g(t,"class","searchBarCont svelte-668kzw"),g(l,"class","svelte-668kzw")},m(f,d){L(f,t,d),w(t,n),e[13](n),L(f,i,d),L(f,l,d);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(l,null);e[17](l),a=!0,o||(r=[P(n,"keydown",e[9]),P(n,"input",e[10])],o=!0)},p(f,d){if(d[0]&2319){s=ae(f[28]);let m;for(m=0;m<s.length;m+=1){const p=mt(f,s,m);u[m]?(u[m].p(p,d),E(u[m],1)):(u[m]=pt(p),u[m].c(),E(u[m],1),u[m].m(l,null))}for(Q(),m=s.length;m<u.length;m+=1)c(m);$()}},i(f){if(!a){for(let d=0;d<s.length;d+=1)E(u[d]);a=!0}},o(f){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)I(u[d]);a=!1},d(f){f&&(D(t),D(i),D(l)),e[13](null),Be(u,f),e[17](null),o=!1,U(r)}}}function qn(e){let t,n,i;function l(o){e[16](o)}let a={itemData:e[29],eqSlotName:e[2]};return e[0]!==void 0&&(a.slotOpen=e[0]),t=new yn({props:a}),M.push(()=>x(t,"slotOpen",l)),t.$on("itemSelect",e[11]),{c(){ne(t.$$.fragment)},m(o,r){Y(t,o,r),i=!0},p(o,r){const s={};r[0]&4&&(s.eqSlotName=o[2]),!n&&r[0]&1&&(n=!0,s.slotOpen=o[0],X(()=>n=!1)),t.$set(s)},i(o){i||(E(t.$$.fragment,o),i=!0)},o(o){I(t.$$.fragment,o),i=!1},d(o){J(t,o)}}}function Cn(e){let t,n,i,l;function a(s){e[14](s)}function o(s){e[15](s)}let r={itemData:e[29],index:e[3]};return e[0]!==void 0&&(r.slotOpen=e[0]),e[1]!==void 0&&(r.weaponExpand=e[1]),t=new On({props:r}),M.push(()=>x(t,"slotOpen",a)),M.push(()=>x(t,"weaponExpand",o)),t.$on("itemSelect",e[11]),{c(){ne(t.$$.fragment)},m(s,u){Y(t,s,u),l=!0},p(s,u){const c={};u[0]&8&&(c.index=s[3]),!n&&u[0]&1&&(n=!0,c.slotOpen=s[0],X(()=>n=!1)),!i&&u[0]&2&&(i=!0,c.weaponExpand=s[1],X(()=>i=!1)),t.$set(c)},i(s){l||(E(t.$$.fragment,s),l=!0)},o(s){I(t.$$.fragment,s),l=!1},d(s){J(t,s)}}}function pt(e){let t,n,i,l;const a=[Cn,qn],o=[];function r(s,u){return s[3]?0:1}return t=r(e),n=o[t]=a[t](e),{c(){n.c(),i=Ft()},m(s,u){o[t].m(s,u),L(s,i,u),l=!0},p(s,u){let c=t;t=r(s),t===c?o[t].p(s,u):(Q(),I(o[c],1,1,()=>{o[c]=null}),$(),n=o[t],n?n.p(s,u):(n=o[t]=a[t](s),n.c()),E(n,1),n.m(i.parentNode,i))},i(s){l||(E(n),l=!0)},o(s){I(n),l=!1},d(s){s&&D(i),o[t].d(s)}}}function Bn(e){let t;return{c(){t=v("span"),t.textContent="Loading items...",g(t,"class","svelte-668kzw")},m(n,i){L(n,t,i)},p:T,i:T,o:T,d(n){n&&D(t)}}}function Dn(e){let t,n,i,l,a,o={ctx:e,current:null,token:null,hasCatch:!1,pending:Bn,then:zn,catch:En,value:28,blocks:[,,,]};return pn(e[8],o),{c(){t=v("div"),o.block.c(),g(t,"class","dropdown svelte-668kzw"),K(()=>e[18].call(t)),R(t,"height",`${e[5]*1.25}px`)},m(r,s){L(r,t,s),o.block.m(t,o.anchor=null),o.mount=()=>t,o.anchor=null,n=ze(t,e[18].bind(t)),i=!0,l||(a=[P(t,"transitionend",e[19]),P(t,"transitioncancel",e[20])],l=!0)},p(r,s){e=r,_n(o,e,s),s[0]&32&&R(t,"height",`${e[5]*1.25}px`)},i(r){i||(E(o.block),i=!0)},o(r){for(let s=0;s<3;s+=1){const u=o.blocks[s];I(u)}i=!1},d(r){r&&D(t),o.block.d(),o.token=null,o=null,n(),l=!1,U(a)}}}function In(e,t,n){let{slotName:i,index:l,slotOpen:a,weaponExpand:o}=t;const r=et();let s,u,c,f,d=`https://raw.githubusercontent.com/XT8SS/fc-sv/gh-pages/ff-data/${i}.json`,m,p={},h=!1;const _=fetch(d).then(async y=>{if(y.status!=200){console.error(`Failed to fetch ${(l?"weapon #":"")+i} slot data from ${d}
Response status: ${y.status}`);return}return n(12,m=await y.json()),m}).catch(y=>{console.error(`Failed to initiate ${(l?"weapon #":"")+i} slot data fetch from ${d}
${y}`)});function b(){f&&f.classList.remove("lastItem"),c.classList.remove("no-scrollbar");let y=c.querySelectorAll("li:not(.hidden)");f=y[y.length-1],f&&f.classList.add("lastItem"),(!f||f.classList.contains("non-eligible"))&&(f=u),y.length<=4&&c.classList.add("no-scrollbar")}function z(y){!y.shiftKey&&y.key=="Tab"&&setTimeout(()=>{u.focus()})}function S(){f&&f.removeEventListener("keydown",z),b(),f&&f.addEventListener("keydown",z)}function N(y){y.shiftKey&&y.key=="Tab"&&setTimeout(()=>{(f.querySelector("button")||f).focus()})}function C(){let y=u.value.toLowerCase();for(let fe in p)fe.toLowerCase().includes(y)?p[fe].element.classList.remove("hidden"):p[fe].element.classList.add("hidden");S()}function q(y){r("itemSelect",y.detail);let fe=c.querySelector(".selectedItem");fe&&fe!=y.detail&&fe.classList.remove("selectedItem"),n(7,h=!0)}function W(y){M[y?"unshift":"push"](()=>{u=y,n(6,u)})}function ee(y){a=y,n(0,a)}function oe(y){o=y,n(1,o)}function O(y){a=y,n(0,a)}function B(y){M[y?"unshift":"push"](()=>{c=y,n(4,c)})}function j(){s=this.offsetWidth,n(5,s)}const ue=y=>{y.propertyName=="visibility"&&(h&&(n(7,h=!1),n(6,u.value="",u),C()),a&&setTimeout(()=>{u.focus(),u.click(),u.select()}))},Re=y=>{y.propertyName=="visibility"&&(n(7,h=!1),a&&setTimeout(()=>{u.focus(),u.click(),u.select()}))};return e.$$set=y=>{"slotName"in y&&n(2,i=y.slotName),"index"in y&&n(3,l=y.index),"slotOpen"in y&&n(0,a=y.slotOpen),"weaponExpand"in y&&n(1,o=y.weaponExpand)},e.$$.update=()=>{if(e.$$.dirty[0]&4112&&c){for(let y=0;y<c.childElementCount;y++)p[m[y].name]={element:c.children[y],data:m[y]};b(),S()}},[a,o,i,l,c,s,u,h,_,N,C,q,m,W,ee,oe,O,B,j,ue,Re]}class Wt extends ie{constructor(t){super(),le(this,t,In,Dn,G,{slotName:2,index:3,slotOpen:0,weaponExpand:1},null,[-1,-1])}}function me(e,{delay:t=0,duration:n=400,easing:i=je}={}){const l=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:a=>`opacity: ${a*l}`}}function _t(e){let t,n,i,l,a,o,r=e[1].name+"",s,u,c,f,d,m;return{c(){t=v("a"),n=v("img"),a=F(),o=v("span"),s=H(r),re(n.src,i=e[1].image)||g(n,"src",i),g(n,"alt",l=e[1].name),g(n,"draggable","false"),g(n,"class","svelte-183otrp"),g(o,"class","tooltip"),g(o,"id","left"),g(t,"href",u=e[1].link),g(t,"target","_blank"),g(t,"class","svelte-183otrp"),R(t,"display",e[1].link?"":"none")},m(p,h){L(p,t,h),w(t,n),w(t,a),w(t,o),w(o,s),f=!0,d||(m=[P(t,"focusin",e[11]),P(t,"outroend",e[12])],d=!0)},p(p,h){(!f||h&2&&!re(n.src,i=p[1].image))&&g(n,"src",i),(!f||h&2&&l!==(l=p[1].name))&&g(n,"alt",l),(!f||h&2)&&r!==(r=p[1].name+"")&&Z(s,r),(!f||h&2&&u!==(u=p[1].link))&&g(t,"href",u),h&2&&R(t,"display",p[1].link?"":"none")},i(p){f||(p&&K(()=>{f&&(c||(c=ye(t,me,{duration:150},!0)),c.run(1))}),f=!0)},o(p){p&&(c||(c=ye(t,me,{duration:150},!1)),c.run(0)),f=!1},d(p){p&&D(t),p&&c&&c.end(),d=!1,U(m)}}}function Ln(e){let t,n,i=e[1],l,a,o,r=e[0].charAt(0).toUpperCase()+e[0].slice(1)+"",s,u,c,f,d,m,p,h,_,b,z,S=_t(e);function N(q){e[17](q)}let C={slotName:e[0],index:null,weaponExpand:null};return e[5]!==void 0&&(C.slotOpen=e[5]),p=new Wt({props:C}),M.push(()=>x(p,"slotOpen",N)),p.$on("itemSelect",e[18]),{c(){t=v("div"),n=v("div"),S.c(),a=F(),o=v("button"),s=H(r),u=F(),c=v("iconify-icon"),f=F(),d=v("button"),d.innerHTML='<iconify-icon icon="maki:cross" class="svelte-183otrp"></iconify-icon> <span class="tooltip" id="top">Clear selection</span>',m=F(),ne(p.$$.fragment),g(n,"class","eqSlotIcon svelte-183otrp"),K(()=>e[14].call(n)),R(n,"min-width",`${e[4]}px`),ft(c,"icon","iconamoon:arrow-down-2-fill"),ft(c,"class","svelte-183otrp"),g(o,"class","ddButton svelte-183otrp"),g(d,"class","clearButton svelte-183otrp"),g(t,"class","eqSlotCont svelte-183otrp"),A(t,"slotOpen",e[5]),A(t,"clearAllowed",e[6]&&e[7])},m(q,W){L(q,t,W),w(t,n),S.m(n,null),e[13](n),l=ze(n,e[14].bind(n)),w(t,a),w(t,o),w(o,s),w(o,u),w(o,c),w(t,f),w(t,d),w(t,m),Y(p,t,null),e[19](t),_=!0,b||(z=[P(window,"mousedown",e[9]),P(window,"keydown",e[10]),P(o,"click",e[15]),P(d,"click",e[16]),P(t,"keydown",e[20]),P(t,"mouseenter",e[21]),P(t,"mouseleave",e[22])],b=!0)},p(q,[W]){W&2&&G(i,i=q[1])?(Q(),I(S,1,1,T),$(),S=_t(q),S.c(),E(S,1),S.m(n,null)):S.p(q,W),W&16&&R(n,"min-width",`${q[4]}px`),(!_||W&1)&&r!==(r=q[0].charAt(0).toUpperCase()+q[0].slice(1)+"")&&Z(s,r);const ee={};W&1&&(ee.slotName=q[0]),!h&&W&32&&(h=!0,ee.slotOpen=q[5],X(()=>h=!1)),p.$set(ee),(!_||W&32)&&A(t,"slotOpen",q[5]),(!_||W&192)&&A(t,"clearAllowed",q[6]&&q[7])},i(q){_||(E(S),E(p.$$.fragment,q),_=!0)},o(q){I(S),I(p.$$.fragment,q),_=!1},d(q){q&&D(t),S.d(q),e[13](null),l(),J(p),e[19](null),b=!1,U(z)}}}function Pn(e,t,n){let i;te(e,Ue,O=>n(8,i=O));let{eqSlotName:l}=t,a,o,r,s=Rt,u,c,f;const d=O=>{(!a.contains(O.target)||O.target==a||O.target==o)&&(n(5,u=!1),O.target!=a&&O.target!=o&&n(6,c=!1))},m=O=>{O.key=="Tab"&&setTimeout(()=>{n(6,c=a.contains(document.activeElement))})},p=O=>{O.relatedTarget==null&&n(6,c=!0)},h=()=>{setTimeout(()=>{wn(o)})};function _(O){M[O?"unshift":"push"](()=>{o=O,n(3,o)})}function b(){r=this.offsetHeight,n(4,r)}const z=()=>n(5,u=!u),S=()=>{n(6,c=!1),a.classList.contains("clearAllowed")&&f.querySelector("button").click()};function N(O){u=O,n(5,u)}const C=O=>{setTimeout(()=>{n(7,f=O.detail.classList.contains("selectedItem")?O.detail:null)})};function q(O){M[O?"unshift":"push"](()=>{a=O,n(2,a)})}const W=O=>{O.key=="Escape"&&n(5,u=!1)},ee=()=>n(6,c=!0),oe=()=>{a.contains(document.activeElement)||n(6,c=!1)};return e.$$set=O=>{"eqSlotName"in O&&n(0,l=O.eqSlotName)},e.$$.update=()=>{e.$$.dirty&259&&i[l]&&i[l].name!=s.name&&n(1,s=i[l])},[l,s,a,o,r,u,c,f,i,d,m,p,h,_,b,z,S,N,C,q,W,ee,oe]}class Tn extends ie{constructor(t){super(),le(this,t,Pn,Ln,G,{eqSlotName:0})}}function ht(e,t,n){const i=e.slice();return i[1]=t[n],i[2]=t,i[3]=n,i}function gt(e){let t,n,i;function l(o){e[0](o,e[1],e[2],e[3])}let a={};return e[1]!==void 0&&(a.eqSlotName=e[1]),t=new Tn({props:a}),M.push(()=>x(t,"eqSlotName",l)),{c(){ne(t.$$.fragment)},m(o,r){Y(t,o,r),i=!0},p(o,r){e=o;const s={};!n&&r&0&&(n=!0,s.eqSlotName=e[1],X(()=>n=!1)),t.$set(s)},i(o){i||(E(t.$$.fragment,o),i=!0)},o(o){I(t.$$.fragment,o),i=!1},d(o){J(t,o)}}}function An(e){let t,n,i=ae(Array(...dt)),l=[];for(let o=0;o<i.length;o+=1)l[o]=gt(ht(e,i,o));const a=o=>I(l[o],1,1,()=>{l[o]=null});return{c(){t=v("div");for(let o=0;o<l.length;o+=1)l[o].c();g(t,"class","armorBox svelte-3p4tb9")},m(o,r){L(o,t,r);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(t,null);n=!0},p(o,[r]){if(r&0){i=ae(Array(...dt));let s;for(s=0;s<i.length;s+=1){const u=ht(o,i,s);l[s]?(l[s].p(u,r),E(l[s],1)):(l[s]=gt(u),l[s].c(),E(l[s],1),l[s].m(t,null))}for(Q(),s=i.length;s<l.length;s+=1)a(s);$()}},i(o){if(!n){for(let r=0;r<i.length;r+=1)E(l[r]);n=!0}},o(o){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)I(l[r]);n=!1},d(o){o&&D(t),Be(l,o)}}}function Fn(e,t,n){function i(l,a,o,r){o[r]=l}return[i]}class Mn extends ie{constructor(t){super(),le(this,t,Fn,An,G,{})}}function jn(e){let t,n=(e[5]?`${Math.floor(e[2][e[0]]*.675+19.8)}% Reduction`:e[6])+"",i,l,a,o;return{c(){t=v("span"),i=H(n),g(t,"class","statValue svelte-16tz2kw"),g(t,"tabindex","0"),g(t,"style",l=e[5]?`font-size: ${e[3]*.7/6.85}px;`:""),A(t,"hidden",e[4]),A(t,"negative",e[6]<0),A(t,"reduction",e[5])},m(r,s){L(r,t,s),w(t,i),a||(o=[P(t,"mouseenter",e[10]),P(t,"mouseleave",e[11]),P(t,"focusin",e[12]),P(t,"focusout",e[13])],a=!0)},p(r,s){s&101&&n!==(n=(r[5]?`${Math.floor(r[2][r[0]]*.675+19.8)}% Reduction`:r[6])+"")&&Z(i,n),s&40&&l!==(l=r[5]?`font-size: ${r[3]*.7/6.85}px;`:"")&&g(t,"style",l),s&16&&A(t,"hidden",r[4]),s&64&&A(t,"negative",r[6]<0),s&32&&A(t,"reduction",r[5])},d(r){r&&D(t),a=!1,U(o)}}}function Rn(e){let t,n=(e[0]!="endurance"?e[6]:e[6].toFixed(2))+"",i;return{c(){t=v("span"),i=H(n),g(t,"class","statValue svelte-16tz2kw"),A(t,"hidden",e[4]),A(t,"negative",e[6]<0)},m(l,a){L(l,t,a),w(t,i)},p(l,a){a&65&&n!==(n=(l[0]!="endurance"?l[6]:l[6].toFixed(2))+"")&&Z(i,n),a&16&&A(t,"hidden",l[4]),a&64&&A(t,"negative",l[6]<0)},d(l){l&&D(t)}}}function bt(e){let t,n=`${e[1]} Bonus`,i;return{c(){t=v("span"),i=H(n),R(t,"font-size",`${e[3]*.7/e[7][e[0]]}px`)},m(l,a){L(l,t,a),w(t,i)},p(l,a){a&2&&n!==(n=`${l[1]} Bonus`)&&Z(i,n),a&9&&R(t,"font-size",`${l[3]*.7/l[7][l[0]]}px`)},d(l){l&&D(t)}}}function Hn(e){let t,n,i,l,a,o,r,s;function u(m,p){return m[0]!="armor"?Rn:jn}let c=u(e),f=c(e),d=e[4]&&bt(e);return{c(){t=v("div"),n=v("img"),l=F(),f.c(),a=F(),d&&d.c(),re(n.src,i="stats/"+e[0]+".svg")||g(n,"src",i),g(n,"alt",e[1]),g(n,"class","svelte-16tz2kw"),g(t,"id",e[0]),g(t,"class","svelte-16tz2kw"),K(()=>e[14].call(t)),A(t,"hidden",e[6]==0)},m(m,p){L(m,t,p),w(t,n),w(t,l),f.m(t,null),w(t,a),d&&d.m(t,null),o=ze(t,e[14].bind(t)),r||(s=[P(n,"mouseenter",e[8]),P(n,"mouseleave",e[9])],r=!0)},p(m,[p]){p&1&&!re(n.src,i="stats/"+m[0]+".svg")&&g(n,"src",i),p&2&&g(n,"alt",m[1]),c===(c=u(m))&&f?f.p(m,p):(f.d(1),f=c(m),f&&(f.c(),f.m(t,a))),m[4]?d?d.p(m,p):(d=bt(m),d.c(),d.m(t,null)):d&&(d.d(1),d=null),p&1&&g(t,"id",m[0]),p&64&&A(t,"hidden",m[6]==0)},i:T,o:T,d(m){m&&D(t),f.d(),d&&d.d(),o(),r=!1,U(s)}}}function Wn(e,t,n){let i,l;te(e,we,z=>n(2,l=z));let{codeName:a,formalName:o}=t,r,s,u,c={armor:5.9,magicDmg:5.65,meleeDmg:5.7,rangedDmg:6.45,hpRegen:7.35,endurance:7.85,sightRange:8.45,walkSpeed:8.3,jumpPower:8.7,ammoReturn:9.3,height:6.1};const f=()=>n(4,s=!0),d=()=>n(4,s=!1),m=()=>n(5,u=!0),p=()=>n(5,u=!1),h=()=>n(5,u=!0),_=()=>n(5,u=!1);function b(){r=this.offsetWidth,n(3,r)}return e.$$set=z=>{"codeName"in z&&n(0,a=z.codeName),"formalName"in z&&n(1,o=z.formalName)},e.$$.update=()=>{e.$$.dirty&5&&n(6,i=l[a]||0)},[a,o,l,r,s,u,i,c,f,d,m,p,h,_,b]}class Gn extends ie{constructor(t){super(),le(this,t,Wn,Hn,G,{codeName:0,formalName:1})}}function wt(e,t,n){const i=e.slice();return i[2]=t[n][0],i[3]=t[n][1],i[4]=t,i[5]=n,i}function kt(e){let t,n,i,l;function a(s){e[0](s,e[2],e[4],e[5])}function o(s){e[1](s,e[3],e[4],e[5])}let r={};return e[2]!==void 0&&(r.codeName=e[2]),e[3]!==void 0&&(r.formalName=e[3]),t=new Gn({props:r}),M.push(()=>x(t,"codeName",a)),M.push(()=>x(t,"formalName",o)),{c(){ne(t.$$.fragment)},m(s,u){Y(t,s,u),l=!0},p(s,u){e=s;const c={};!n&&u&0&&(n=!0,c.codeName=e[2],X(()=>n=!1)),!i&&u&0&&(i=!0,c.formalName=e[3],X(()=>i=!1)),t.$set(c)},i(s){l||(E(t.$$.fragment,s),l=!0)},o(s){I(t.$$.fragment,s),l=!1},d(s){J(t,s)}}}function Vn(e){let t,n,i=ae(Object.entries(Ye)),l=[];for(let o=0;o<i.length;o+=1)l[o]=kt(wt(e,i,o));const a=o=>I(l[o],1,1,()=>{l[o]=null});return{c(){t=v("div");for(let o=0;o<l.length;o+=1)l[o].c();g(t,"class","statBox svelte-lu37w6")},m(o,r){L(o,t,r);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(t,null);n=!0},p(o,[r]){if(r&0){i=ae(Object.entries(Ye));let s;for(s=0;s<i.length;s+=1){const u=wt(o,i,s);l[s]?(l[s].p(u,r),E(l[s],1)):(l[s]=kt(u),l[s].c(),E(l[s],1),l[s].m(t,null))}for(Q(),s=i.length;s<l.length;s+=1)a(s);$()}},i(o){if(!n){for(let r=0;r<i.length;r+=1)E(l[r]);n=!0}},o(o){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)I(l[r]);n=!1},d(o){o&&D(t),Be(l,o)}}}function Kn(e,t,n){function i(a,o,r,s){r[s][0]=a}function l(a,o,r,s){r[s][1]=a}return[i,l]}class Un extends ie{constructor(t){super(),le(this,t,Kn,Vn,G,{})}}function Zn(e){let t,n,i,l,a,o,r,s,u,c;return{c(){t=v("div"),n=v("button"),n.textContent="-",i=F(),l=v("input"),a=F(),o=v("b"),o.textContent="%",r=F(),s=v("button"),s.textContent="+",g(n,"id","decrease"),g(n,"class","svelte-htghmb"),g(l,"type","number"),g(l,"placeholder","0"),g(l,"class","svelte-htghmb"),g(o,"class","svelte-htghmb"),g(s,"id","increase"),g(s,"class","svelte-htghmb"),g(t,"class","svelte-htghmb"),A(t,"non-percent",!e[1])},m(f,d){L(f,t,d),w(t,n),w(t,i),w(t,l),ct(l,e[0]),w(t,a),w(t,o),w(t,r),w(t,s),u||(c=[P(n,"click",e[4]),P(l,"input",e[5]),P(l,"input",e[2]),P(s,"click",e[6])],u=!0)},p(f,[d]){d&1&&Mt(l.value)!==f[0]&&ct(l,f[0])},i:T,o:T,d(f){f&&D(t),u=!1,U(c)}}}function Yn(e,t,n){let{weaponName:i,value:l}=t,a=i!="Nature's Wrath Spellbook",o;a?(l=100,o=100):(l=4,o=4);function r(){l<0?n(0,l=0):l>o&&n(0,l=o),l%1!=0&&n(0,l=Math.floor(l))}const s=()=>{n(0,l--,l),r()};function u(){l=Mt(this.value),n(0,l)}const c=()=>{n(0,l++,l),r()};return e.$$set=f=>{"weaponName"in f&&n(3,i=f.weaponName),"value"in f&&n(0,l=f.value)},[l,a,r,i,s,u,c]}class Jn extends ie{constructor(t){super(),le(this,t,Yn,Zn,G,{weaponName:3,value:0})}}function vt(e,t,n){const i=e.slice();i[37]=t[n];const l=i[37].name.includes("Fantastic Beamstorm")?"~":"";i[16]=l;const a=i[37].name.includes("Charged");return i[38]=a,i}function Xn(e){let t,n,i=e[2].description+"",l,a;return{c(){t=v("span"),n=H('"'),l=H(i),a=H('"'),g(t,"class","svelte-1f7uei1")},m(o,r){L(o,t,r),w(t,n),w(t,l),w(t,a)},p(o,r){r[0]&4&&i!==(i=o[2].description+"")&&Z(l,i)},d(o){o&&D(t)}}}function Qn(e){let t,n,i,l=`${e[13]?"Type":e[11].name}:`,a,o,r=e[14],s,u,c,f,d,m=e[13]?"Return":"Expand",p,h,_,b,z=yt(e),S=e[3]&&e[2].info.special!="None"&&St(e);return{c(){t=v("button"),n=v("div"),i=v("span"),a=H(l),o=F(),z.c(),u=F(),S&&S.c(),c=F(),f=v("span"),d=H("("),p=H(m),h=H(")"),g(i,"class","svelte-1f7uei1"),R(i,"font-size",Object.keys(e[15]).includes(e[11].name)?`calc(var(--u) * ${e[15][e[11].name]})`:""),g(n,"id",s=e[13]?"":"basic"),g(n,"class","svelte-1f7uei1"),g(f,"class","tooltip"),g(f,"id","top"),g(t,"class","gearPreview svelte-1f7uei1"),R(t,"line-height",`${e[7]/6.5}px`)},m(N,C){L(N,t,C),w(t,n),w(n,i),w(i,a),w(n,o),z.m(n,null),w(t,u),S&&S.m(t,null),w(t,c),w(t,f),w(f,d),w(f,p),w(f,h),e[27](t),_||(b=P(t,"click",e[20]),_=!0)},p(N,C){C[0]&10240&&l!==(l=`${N[13]?"Type":N[11].name}:`)&&Z(a,l),C[0]&34816&&R(i,"font-size",Object.keys(N[15]).includes(N[11].name)?`calc(var(--u) * ${N[15][N[11].name]})`:""),C[0]&16384&&G(r,r=N[14])?(z.d(1),z=yt(N),z.c(),z.m(n,null)):z.p(N,C),C[0]&8192&&s!==(s=N[13]?"":"basic")&&g(n,"id",s),N[3]&&N[2].info.special!="None"?S?S.p(N,C):(S=St(N),S.c(),S.m(t,c)):S&&(S.d(1),S=null),C[0]&8192&&m!==(m=N[13]?"Return":"Expand")&&Z(p,m),C[0]&128&&R(t,"line-height",`${N[7]/6.5}px`)},d(N){N&&D(t),z.d(N),S&&S.d(),e[27](null),_=!1,b()}}}function yt(e){let t,n=(e[13]?e[2].info.type.replace("/","<b>, </b>"):e[18](e[11]))+"";return{c(){t=v("span"),g(t,"class","svelte-1f7uei1")},m(i,l){L(i,t,l),t.innerHTML=n},p(i,l){l[0]&10244&&n!==(n=(i[13]?i[2].info.type.replace("/","<b>, </b>"):i[18](i[11]))+"")&&(t.innerHTML=n)},d(i){i&&D(t)}}}function St(e){let t,n,i=`${e[13]?"Special":e[3].name.split(" (total)")[0]}:`,l,a,o=e[14],r,s=Nt(e);return{c(){t=v("div"),n=v("span"),l=H(i),a=F(),s.c(),g(n,"class","svelte-1f7uei1"),R(n,"font-size",Object.keys(e[15]).includes(e[3].name)?`calc(var(--u) * ${e[15][e[3].name]})`:""),g(t,"id",r=e[13]?"":"special"),g(t,"class","svelte-1f7uei1")},m(u,c){L(u,t,c),w(t,n),w(n,l),w(t,a),s.m(t,null)},p(u,c){c[0]&8200&&i!==(i=`${u[13]?"Special":u[3].name.split(" (total)")[0]}:`)&&Z(l,i),c[0]&32776&&R(n,"font-size",Object.keys(u[15]).includes(u[3].name)?`calc(var(--u) * ${u[15][u[3].name]})`:""),c[0]&16384&&G(o,o=u[14])?(s.d(1),s=Nt(u),s.c(),s.m(t,null)):s.p(u,c),c[0]&8192&&r!==(r=u[13]?"":"special")&&g(t,"id",r)},d(u){u&&D(t),s.d(u)}}}function Nt(e){let t,n=(e[13]?e[2].info.special:e[16]+e[18](e[3]))+"",i;return{c(){t=v("span"),i=H(n),g(t,"class","svelte-1f7uei1")},m(l,a){L(l,t,a),w(t,i)},p(l,a){a[0]&73740&&n!==(n=(l[13]?l[2].info.special:l[16]+l[18](l[3]))+"")&&Z(i,n)},d(l){l&&D(t)}}}function Ot(e){let t,n,i,l,a,o,r=e[2].name+"",s,u,c,f;return{c(){t=v("a"),n=v("img"),a=F(),o=v("span"),s=H(r),re(n.src,i=e[2].image)||g(n,"src",i),g(n,"alt",l=e[2].name),g(n,"draggable","false"),g(n,"class","svelte-1f7uei1"),g(o,"class","tooltip"),g(o,"id","right"),g(t,"href",u=e[2].link),g(t,"target","_blank"),g(t,"class","svelte-1f7uei1"),R(t,"display",e[2].link?"":"none"),R(t,"border-radius",e[2].tool?"calc(var(--u))":"")},m(d,m){L(d,t,m),w(t,n),w(t,a),w(t,o),w(o,s),f=!0},p(d,m){(!f||m[0]&4&&!re(n.src,i=d[2].image))&&g(n,"src",i),(!f||m[0]&4&&l!==(l=d[2].name))&&g(n,"alt",l),(!f||m[0]&4)&&r!==(r=d[2].name+"")&&Z(s,r),(!f||m[0]&4&&u!==(u=d[2].link))&&g(t,"href",u),m[0]&4&&R(t,"display",d[2].link?"":"none"),m[0]&4&&R(t,"border-radius",d[2].tool?"calc(var(--u))":"")},i(d){f||(d&&K(()=>{f&&(c||(c=ye(t,me,{duration:150},!0)),c.run(1))}),f=!0)},o(d){d&&(c||(c=ye(t,me,{duration:150},!1)),c.run(0)),f=!1},d(d){d&&D(t),d&&c&&c.end()}}}function Et(e){let t,n,i,l,a=ae(e[2].moves),o=[];for(let s=0;s<a.length;s+=1)o[s]=Ct(vt(e,a,s));const r=s=>I(o[s],1,1,()=>{o[s]=null});return{c(){t=v("div");for(let s=0;s<o.length;s+=1)o[s].c();g(t,"class","weaponMoves svelte-1f7uei1")},m(s,u){L(s,t,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(t,null);l=!0},p(s,u){if(u[0]&802836){a=ae(s[2].moves);let c;for(c=0;c<a.length;c+=1){const f=vt(s,a,c);o[c]?(o[c].p(f,u),E(o[c],1)):(o[c]=Ct(f),o[c].c(),E(o[c],1),o[c].m(t,null))}for(Q(),c=a.length;c<o.length;c+=1)r(c);$()}},i(s){if(!l){for(let u=0;u<a.length;u+=1)E(o[u]);s&&K(()=>{l&&(i&&i.end(1),n=dn(t,me,{duration:150,delay:300}),n.start())}),l=!0}},o(s){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)I(o[u]);n&&n.invalidate(),s&&(i=mn(t,me,{duration:150})),l=!1},d(s){s&&D(t),Be(o,s),s&&i&&i.end()}}}function zt(e){let t,n,i,l;function a(s){e[35](s)}function o(s){e[36](s)}let r={};return e[4]!==void 0&&(r.value=e[4]),e[2].name!==void 0&&(r.weaponName=e[2].name),t=new Jn({props:r}),M.push(()=>x(t,"value",a)),M.push(()=>x(t,"weaponName",o)),{c(){ne(t.$$.fragment)},m(s,u){Y(t,s,u),l=!0},p(s,u){const c={};!n&&u[0]&16&&(n=!0,c.value=s[4],X(()=>n=!1)),!i&&u[0]&4&&(i=!0,c.weaponName=s[2].name,X(()=>i=!1)),t.$set(c)},i(s){l||(E(t.$$.fragment,s),l=!0)},o(s){I(t.$$.fragment,s),l=!1},d(s){J(t,s)}}}function qt(e){let t,n=e[16]+(e[38]?e[19](e[37]):e[18](e[37]))+"",i;return{c(){t=v("span"),i=H(n),g(t,"class","svelte-1f7uei1")},m(l,a){L(l,t,a),w(t,i)},p(l,a){a[0]&4&&n!==(n=l[16]+(l[38]?l[19](l[37]):l[18](l[37]))+"")&&Z(i,n)},d(l){l&&D(t)}}}function Ct(e){let t,n,i,l,a=(e[38]&&e[2].name=="Nature's Wrath Spellbook"?e[37].name.replace("Charged","Charge(s)"):e[37].name)+":",o,r,s=e[38]?[e[14],e[4]]:e[14],u,c,f=e[38]&&zt(e),d=qt(e);return{c(){t=v("div"),n=v("div"),i=v("span"),f&&f.c(),l=F(),o=H(a),r=F(),d.c(),u=F(),g(i,"class","svelte-1f7uei1"),g(n,"class","svelte-1f7uei1"),g(t,"class","svelte-1f7uei1")},m(m,p){L(m,t,p),w(t,n),w(n,i),f&&f.m(i,null),w(i,l),w(i,o),w(n,r),d.m(n,null),w(t,u),c=!0},p(m,p){m[38]?f?(f.p(m,p),p[0]&4&&E(f,1)):(f=zt(m),f.c(),E(f,1),f.m(i,l)):f&&(Q(),I(f,1,1,()=>{f=null}),$()),(!c||p[0]&4)&&a!==(a=(m[38]&&m[2].name=="Nature's Wrath Spellbook"?m[37].name.replace("Charged","Charge(s)"):m[37].name)+":")&&Z(o,a),p[0]&16404&&G(s,s=m[38]?[m[14],m[4]]:m[14])?(d.d(1),d=qt(m),d.c(),d.m(n,null)):d.p(m,p)},i(m){c||(E(f),c=!0)},o(m){I(f),c=!1},d(m){m&&D(t),f&&f.d(),d.d(m)}}}function $n(e){let t,n,i,l,a,o,r=e[2],s,u,c,f,d,m,p,h,_,b,z;function S(B,j){if(B[2].name&&!B[2].tool)return Qn;if(B[2].tool)return Xn}let N=S(e),C=N&&N(e),q=Ot(e);function W(B){e[31](B)}function ee(B){e[32](B)}let oe={slotName:e[0],index:e[1]};e[12]!==void 0&&(oe.slotOpen=e[12]),e[13]!==void 0&&(oe.weaponExpand=e[13]),f=new Wt({props:oe}),M.push(()=>x(f,"slotOpen",W)),M.push(()=>x(f,"weaponExpand",ee)),f.$on("itemSelect",e[33]);let O=e[13]&&Et(e);return{c(){t=v("div"),n=v("button"),n.innerHTML=`<iconify-icon icon="iconamoon:arrow-down-2-fill" rotate="90deg" class="svelte-1f7uei1"></iconify-icon>
        Gear`,i=F(),l=v("div"),C&&C.c(),a=F(),o=v("div"),q.c(),c=F(),ne(f.$$.fragment),p=F(),O&&O.c(),h=Ft(),g(n,"class","ddButton svelte-1f7uei1"),g(o,"class","gearSlotIcon svelte-1f7uei1"),K(()=>e[28].call(o)),R(o,"min-width",`${e[8]}px`),g(l,"class","gearInfoCont svelte-1f7uei1"),K(()=>e[30].call(l)),R(l,"justify-content",e[2].name?"":"flex-end"),g(t,"class","gearSlot svelte-1f7uei1"),A(t,"slotOpen",e[12]),A(t,"weapon-expand",e[13])},m(B,j){L(B,t,j),w(t,n),e[25](n),w(t,i),w(t,l),C&&C.m(l,null),w(l,a),w(l,o),q.m(o,null),s=ze(o,e[28].bind(o)),e[29](l),u=ze(l,e[30].bind(l)),w(t,c),Y(f,t,null),e[34](t),L(B,p,j),O&&O.m(B,j),L(B,h,j),_=!0,b||(z=[P(window,"mousedown",e[23]),P(window,"keydown",e[24]),P(n,"click",e[26])],b=!0)},p(B,j){N===(N=S(B))&&C?C.p(B,j):(C&&C.d(1),C=N&&N(B),C&&(C.c(),C.m(l,a))),j[0]&4&&G(r,r=B[2])?(Q(),I(q,1,1,T),$(),q=Ot(B),q.c(),E(q,1),q.m(o,null)):q.p(B,j),j[0]&256&&R(o,"min-width",`${B[8]}px`),j[0]&4&&R(l,"justify-content",B[2].name?"":"flex-end");const ue={};j[0]&1&&(ue.slotName=B[0]),j[0]&2&&(ue.index=B[1]),!d&&j[0]&4096&&(d=!0,ue.slotOpen=B[12],X(()=>d=!1)),!m&&j[0]&8192&&(m=!0,ue.weaponExpand=B[13],X(()=>m=!1)),f.$set(ue),(!_||j[0]&4096)&&A(t,"slotOpen",B[12]),(!_||j[0]&8192)&&A(t,"weapon-expand",B[13]),B[13]?O?(O.p(B,j),j[0]&8192&&E(O,1)):(O=Et(B),O.c(),E(O,1),O.m(h.parentNode,h)):O&&(Q(),I(O,1,1,()=>{O=null}),$())},i(B){_||(E(q),E(f.$$.fragment,B),E(O),_=!0)},o(B){I(q),I(f.$$.fragment,B),I(O),_=!1},d(B){B&&(D(t),D(p),D(h)),e[25](null),C&&C.d(),q.d(B),s(),e[29](null),u(),J(f),e[34](null),O&&O.d(B),b=!1,U(z)}}}function xn(e,t,n){let i,l,a;te(e,Ze,k=>n(22,i=k)),te(e,we,k=>n(14,l=k)),te(e,Ge,k=>n(15,a=k));let{gearBox:o,slotName:r,index:s}=t,u,c,f,d,m,p,h,_=Ht,b,z,S,N,C="";function q(){if(h)for(let k of h.querySelectorAll(".gearPreview > div")){if(Object.keys(a).includes(k.id=="basic"?b.name:z.name))return;let V=bn(k);V&&(k.id=="basic"?pe(Ge,a[b.name]=V,a):pe(Ge,a[z.name]=V,a))}}function W(k){let V;if(k.name=="Void Needle")V=k.base+(l[k.type]||0)-(l.armor||0)*5.625;else if(_.name=="Pureblood Dagger"){let Se,de={magicDmg:l.magicDmg||0,meleeDmg:l.meleeDmg||0,rangedDmg:l.rangedDmg||0},Ne=Object.keys(de).reduce((Oe,at)=>de[Oe]>de[at]?Oe:at),rt=0;for(let Oe in de)Oe!=Ne&&(rt+=de[Oe]);Se=(l[Ne]||0)*2-rt,V=k.base+Se,k.name=="HP restored per Blood Sap"&&(V=k.base+Se/2)}else if(k.type.includes("/")){let Se=k.type.split("/"),de=0;for(let Ne of Se)de+=(l[Ne]||0)*k[`${Ne}Mult`];V=k.base+de}else V=k.base+(l[k.type]||0)*k.mult;return N?Math.floor(V*10)/10:Math.floor(V)}function ee(k){let V;return _.name=="Celestial Powers Spellbook"?V=(80+(l[k.type]||0)*1.1)*(.8+2.2*u/100):_.name=="Staff of Dreams"?V=160+160*u/100+(l[k.type]||0)*(.4+1.3*u/100):_.name=="Nature's Wrath Spellbook"&&(V=260+400*u/4+(l[k.type]||0)*(1+1.5*u/4)),Math.floor(V*10)/10}function oe(){N?(n(13,N=!1),o.classList.remove("weapon-expand")):(o.classList.add("weapon-expand"),n(13,N=!0))}const O=k=>{(!c.contains(k.target)||c.contains(k.target)&&f.contains(k.target))&&n(12,S=!1)},B=k=>{k.key=="Escape"&&n(12,S=!1)};function j(k){M[k?"unshift":"push"](()=>{p=k,n(9,p)})}const ue=()=>n(12,S=!S);function Re(k){M[k?"unshift":"push"](()=>{h=k,n(10,h)})}function y(){m=this.offsetHeight,n(8,m)}function fe(k){M[k?"unshift":"push"](()=>{f=k,n(6,f)})}function st(){d=this.offsetHeight,n(7,d)}function Gt(k){S=k,n(12,S)}function Vt(k){N=k,n(13,N)}const Kt=()=>{setTimeout(()=>{q(),!_.name&&N&&oe()})};function Ut(k){M[k?"unshift":"push"](()=>{c=k,n(5,c)})}function Zt(k){u=k,n(4,u)}function Yt(k){e.$$.not_equal(_.name,k)&&(_.name=k,n(2,_),n(22,i),n(1,s),n(3,z))}return e.$$set=k=>{"gearBox"in k&&n(21,o=k.gearBox),"slotName"in k&&n(0,r=k.slotName),"index"in k&&n(1,s=k.index)},e.$$.update=()=>{e.$$.dirty[0]&4194318&&i[s]&&i[s].name!=_.name&&(n(2,_=i[s]),!_.tool&&_.name&&(n(11,b=_.moves.filter(k=>k.basic)[0]),n(3,z=_.moves.filter(k=>k.special)[0]),z&&z.name.includes("Fantastic Beamstorm")?n(16,C="~"):n(16,C="")))},[r,s,_,z,u,c,f,d,m,p,h,b,S,N,l,a,C,q,W,ee,oe,o,i,O,B,j,ue,Re,y,fe,st,Gt,Vt,Kt,Ut,Zt,Yt]}class el extends ie{constructor(t){super(),le(this,t,xn,$n,G,{gearBox:21,slotName:0,index:1},null,[-1,-1])}}function Bt(e,t,n){const i=e.slice();return i[3]=t[n],i}function Dt(e){let t,n,i;function l(o){e[1](o)}let a={slotName:"gear",index:e[3]};return e[0]!==void 0&&(a.gearBox=e[0]),t=new el({props:a}),M.push(()=>x(t,"gearBox",l)),{c(){ne(t.$$.fragment)},m(o,r){Y(t,o,r),i=!0},p(o,r){const s={};!n&&r&1&&(n=!0,s.gearBox=o[0],X(()=>n=!1)),t.$set(s)},i(o){i||(E(t.$$.fragment,o),i=!0)},o(o){I(t.$$.fragment,o),i=!1},d(o){J(t,o)}}}function tl(e){let t,n,i=ae([1,2,3,4,5]),l=[];for(let o=0;o<5;o+=1)l[o]=Dt(Bt(e,i,o));const a=o=>I(l[o],1,1,()=>{l[o]=null});return{c(){t=v("div");for(let o=0;o<5;o+=1)l[o].c();g(t,"class","gearBox svelte-9kw7m0")},m(o,r){L(o,t,r);for(let s=0;s<5;s+=1)l[s]&&l[s].m(t,null);e[2](t),n=!0},p(o,[r]){if(r&1){i=ae([1,2,3,4,5]);let s;for(s=0;s<5;s+=1){const u=Bt(o,i,s);l[s]?(l[s].p(u,r),E(l[s],1)):(l[s]=Dt(u),l[s].c(),E(l[s],1),l[s].m(t,null))}for(Q(),s=5;s<5;s+=1)a(s);$()}},i(o){if(!n){for(let r=0;r<5;r+=1)E(l[r]);n=!0}},o(o){l=l.filter(Boolean);for(let r=0;r<5;r+=1)I(l[r]);n=!1},d(o){o&&D(t),Be(l,o),e[2](null)}}}function nl(e,t,n){let i;function l(o){i=o,n(0,i)}function a(o){M[o?"unshift":"push"](()=>{i=o,n(0,i)})}return[i,l,a]}class ll extends ie{constructor(t){super(),le(this,t,nl,tl,G,{})}}function It(e){let t,n,i=Math.floor(e[5][e[3]]*100)+"",l,a,o,r;return{c(){t=v("div"),n=H("Zoom: "),l=H(i),a=v("b"),a.textContent="%",g(t,"class","zoomLevel svelte-16xieh4")},m(s,u){L(s,t,u),w(t,n),w(t,l),w(t,a),r=!0},p(s,u){(!r||u&8)&&i!==(i=Math.floor(s[5][s[3]]*100)+"")&&Z(l,i)},i(s){r||(s&&K(()=>{r&&(o||(o=ye(t,me,{duration:150},!0)),o.run(1))}),r=!0)},o(s){s&&(o||(o=ye(t,me,{duration:150},!1)),o.run(0)),r=!1},d(s){s&&D(t),s&&o&&o.end()}}}function il(e){let t,n,i,l,a,o,r,s,u,c,f,d,m,p;K(e[10]);let h=e[4]&&It(e);return r=new Mn({}),u=new Un({}),f=new ll({}),{c(){t=v("div"),t.textContent=`v${ol}`,n=F(),h&&h.c(),i=F(),l=v("main"),a=v("div"),o=v("div"),ne(r.$$.fragment),s=F(),ne(u.$$.fragment),c=F(),ne(f.$$.fragment),g(t,"style","padding: var(--u); font-size: calc(var(--u) * 2.5); color: var(--light);"),g(o,"class","eqCont svelte-16xieh4"),g(a,"class","calcBox svelte-16xieh4"),g(l,"class","svelte-16xieh4"),A(l,"portrait-NOT",!e[2])},m(_,b){L(_,t,b),L(_,n,b),h&&h.m(_,b),L(_,i,b),L(_,l,b),w(l,a),w(a,o),Y(r,o,null),w(o,s),Y(u,o,null),w(a,c),Y(f,a,null),d=!0,m||(p=[P(window,"wheel",e[8],{passive:!1}),P(window,"keydown",e[9]),P(window,"resize",e[10])],m=!0)},p(_,[b]){_[4]?h?(h.p(_,b),b&16&&E(h,1)):(h=It(_),h.c(),E(h,1),h.m(i.parentNode,i)):h&&(Q(),I(h,1,1,()=>{h=null}),$()),(!d||b&4)&&A(l,"portrait-NOT",!_[2])},i(_){d||(E(h),E(r.$$.fragment,_),E(u.$$.fragment,_),E(f.$$.fragment,_),d=!0)},o(_){I(h),I(r.$$.fragment,_),I(u.$$.fragment,_),I(f.$$.fragment,_),d=!1},d(_){_&&(D(t),D(n),D(i),D(l)),h&&h.d(_),J(r),J(u),J(f),m=!1,U(p)}}}let ol="3.10.4-alpha";function sl(e,t,n){let i;te(e,it,_=>n(7,i=_));let l,a,o,r=7,s=[.2,.25,.45,.6,.75,.85,.95,1,1.1,1.25,1.5,1.75,2,2.5,3,4,5],u=!1,c;xe(()=>{n(2,o=a>l)});function f(){c=setTimeout(()=>{n(4,u=!1)},2e3)}function d(){clearTimeout(c),n(4,u=!0),f()}const m=_=>{let b=_.wheelDeltaY;if(_.ctrlKey){if(_.preventDefault(),s[r]==.2&&b<0||s[r]==5&&b>0)return;b>0?n(3,r++,r):n(3,r--,r),d()}},p=_=>{_.ctrlKey&&(_.key=="-"||_.key=="+"||_.code=="Equal")&&(_.preventDefault(),(_.key=="+"||_.code=="Equal")&&s[r]!=5?n(3,r++,r):_.key=="-"&&s[r]!=.2&&n(3,r--,r),d())};function h(){n(0,l=window.outerHeight),n(1,a=window.outerWidth)}return e.$$.update=()=>{if(e.$$.dirty&131&&(a||l)&&(n(2,o=a>l),i))for(let _ of i)ot(_.node,_.itemName);e.$$.dirty&12&&(o?document.documentElement.style.setProperty("--u",`${.75*s[r]}vh`):document.documentElement.style.setProperty("--u","0.75vh"))},[l,a,o,r,u,s,d,i,m,p,h]}class rl extends ie{constructor(t){super(),le(this,t,sl,il,G,{})}}new rl({target:document.body});
