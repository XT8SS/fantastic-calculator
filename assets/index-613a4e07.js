var yt=Object.defineProperty;var kt=(t,e,n)=>e in t?yt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ee=(t,e,n)=>(kt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function D(){}const ft=t=>t;function St(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function ct(t){return t()}function Qe(){return Object.create(null)}function K(t){t.forEach(ct)}function He(t){return typeof t=="function"}function M(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ke;function Z(t,e){return t===e?!0:(ke||(ke=document.createElement("a")),ke.href=e,t===ke.href)}function vt(t){return Object.keys(t).length===0}function Nt(t,...e){if(t==null){for(const l of e)l(void 0);return D}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function U(t,e,n){t.$$.on_destroy.push(Nt(e,n))}function le(t,e,n){return t.set(n),e}const dt=typeof window<"u";let Ot=dt?()=>window.performance.now():()=>Date.now(),Re=dt?t=>requestAnimationFrame(t):D;const pe=new Set;function mt(t){pe.forEach(e=>{e.c(t)||(pe.delete(e),e.f())}),pe.size!==0&&Re(mt)}function zt(t){let e;return pe.size===0&&Re(mt),{promise:new Promise(n=>{pe.add(e={c:t,f:n})}),abort(){pe.delete(e)}}}function b(t,e){t.appendChild(e)}function pt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function qt(t){const e=k("style");return e.textContent="/* empty */",Dt(pt(t),e),e.sheet}function Dt(t,e){return b(t.head||t,e),e.sheet}function L(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode&&t.parentNode.removeChild(t)}function De(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function G(t){return document.createTextNode(t)}function j(){return G(" ")}function _t(){return G("")}function E(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function _(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ye(t,e,n){e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:_(t,e,n)}function Ct(t){return Array.from(t.childNodes)}function Q(t,e){e=""+e,t.data!==e&&(t.data=e)}function A(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}let Se;function Et(){if(Se===void 0){Se=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Se=!0}}return Se}function we(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const l=k("iframe");l.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),l.setAttribute("aria-hidden","true"),l.tabIndex=-1;const s=Et();let r;return s?(l.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=E(window,"message",o=>{o.source===l.contentWindow&&e()})):(l.src="about:blank",l.onload=()=>{r=E(l.contentWindow,"resize",e),e()}),b(t,l),()=>{(s||r&&l.contentWindow)&&r(),C(l)}}function B(t,e,n){t.classList.toggle(e,!!n)}function ht(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}const Ne=new Map;let Oe=0;function Bt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function It(t,e){const n={stylesheet:qt(e),rules:{}};return Ne.set(t,n),n}function Ze(t,e,n,l,s,r,o,a=0){const i=16.666/l;let u=`{
`;for(let g=0;g<=1;g+=i){const N=e+(n-e)*r(g);u+=g*100+`%{${o(N,1-N)}}
`}const f=u+`100% {${o(n,1-n)}}
}`,c=`__svelte_${Bt(f)}_${a}`,m=pt(t),{stylesheet:d,rules:p}=Ne.get(m)||It(m,t);p[c]||(p[c]=!0,d.insertRule(`@keyframes ${c} ${f}`,d.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${c} ${l}ms linear ${s}ms 1 both`,Oe+=1,c}function Lt(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),s=n.length-l.length;s&&(t.style.animation=l.join(", "),Oe-=s,Oe||Pt())}function Pt(){Re(()=>{Oe||(Ne.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&C(e)}),Ne.clear())})}let be;function te(t){be=t}function Ge(){if(!be)throw new Error("Function called outside component initialization");return be}function Me(t){Ge().$$.on_mount.push(t)}function We(){const t=Ge();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const r=ht(e,n,{cancelable:l});return s.slice().forEach(o=>{o.call(t,r)}),!r.defaultPrevented}return!0}}const de=[],T=[];let _e=[];const Pe=[],At=Promise.resolve();let Ae=!1;function Ft(){Ae||(Ae=!0,At.then(Ve))}function V(t){_e.push(t)}function se(t){Pe.push(t)}const Be=new Set;let fe=0;function Ve(){if(fe!==0)return;const t=be;do{try{for(;fe<de.length;){const e=de[fe];fe++,te(e),jt(e.$$)}}catch(e){throw de.length=0,fe=0,e}for(te(null),de.length=0,fe=0;T.length;)T.pop()();for(let e=0;e<_e.length;e+=1){const n=_e[e];Be.has(n)||(Be.add(n),n())}_e.length=0}while(de.length);for(;Pe.length;)Pe.pop()();Ae=!1,Be.clear(),te(t)}function jt(t){if(t.fragment!==null){t.update(),K(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(V)}}function Tt(t){const e=[],n=[];_e.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),_e=e}let ge;function Ht(){return ge||(ge=Promise.resolve(),ge.then(()=>{ge=null})),ge}function Ie(t,e,n){t.dispatchEvent(ht(`${e?"intro":"outro"}${n}`))}const ve=new Set;let ne;function re(){ne={r:0,c:[],p:ne}}function ae(){ne.r||K(ne.c),ne=ne.p}function q(t,e){t&&t.i&&(ve.delete(t),t.i(e))}function I(t,e,n,l){if(t&&t.o){if(ve.has(t))return;ve.add(t),ne.c.push(()=>{ve.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const Rt={duration:0};function ze(t,e,n,l){let r=e(t,n,{direction:"both"}),o=l?0:1,a=null,i=null,u=null,f;function c(){u&&Lt(t,u)}function m(p,h){const g=p.b-o;return h*=Math.abs(g),{a:o,b:p.b,d:g,duration:h,start:p.start,end:p.start+h,group:p.group}}function d(p){const{delay:h=0,duration:g=300,easing:N=ft,tick:O=D,css:P}=r||Rt,R={start:Ot()+h,b:p};p||(R.group=ne,ne.r+=1),"inert"in t&&(p?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),a||i?i=R:(P&&(c(),u=Ze(t,o,p,g,h,N,P)),p&&O(0,1),a=m(R,g),V(()=>Ie(t,p,"start")),zt(v=>{if(i&&v>i.start&&(a=m(i,g),i=null,Ie(t,a.b,"start"),P&&(c(),u=Ze(t,o,a.b,a.duration,0,N,r.css))),a){if(v>=a.end)O(o=a.b,1-o),Ie(t,a.b,"end"),i||(a.b?c():--a.group.r||K(a.group.c)),a=null;else if(v>=a.start){const S=v-a.start;o=a.a+a.d*N(S/a.duration),O(o,1-o)}}return!!(a||i)}))}return{run(p){He(r)?Ht().then(()=>{r=r({direction:p?"in":"out"}),d(p)}):d(p)},end(){c(),a=i=null}}}function Gt(t,e){const n=e.token={};function l(s,r,o,a){if(e.token!==n)return;e.resolved=a;let i=e.ctx;o!==void 0&&(i=i.slice(),i[o]=a);const u=s&&(e.current=s)(i);let f=!1;e.block&&(e.blocks?e.blocks.forEach((c,m)=>{m!==r&&c&&(re(),I(c,1,1,()=>{e.blocks[m]===c&&(e.blocks[m]=null)}),ae())}):e.block.d(1),u.c(),q(u,1),u.m(e.mount(),e.anchor),f=!0),e.block=u,e.blocks&&(e.blocks[r]=u),f&&Ve()}if(St(t)){const s=Ge();if(t.then(r=>{te(s),l(e.then,1,e.value,r),te(null)},r=>{if(te(s),l(e.catch,2,e.error,r),te(null),!e.hasCatch)throw r}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}}function Mt(t,e,n){const l=e.slice(),{resolved:s}=t;t.current===t.then&&(l[t.value]=s),t.current===t.catch&&(l[t.error]=s),t.block.p(l,n)}function oe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ie(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function Y(t){t&&t.c()}function J(t,e,n){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),V(()=>{const r=t.$$.on_mount.map(ct).filter(He);t.$$.on_destroy?t.$$.on_destroy.push(...r):K(r),t.$$.on_mount=[]}),s.forEach(V)}function X(t,e){const n=t.$$;n.fragment!==null&&(Tt(n.after_update),K(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Wt(t,e){t.$$.dirty[0]===-1&&(de.push(t),Ft(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function $(t,e,n,l,s,r,o=null,a=[-1]){const i=be;te(t);const u=t.$$={fragment:null,ctx:[],props:r,update:D,not_equal:s,bound:Qe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:Qe(),dirty:a,skip_bound:!1,root:e.target||i.$$.root};o&&o(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,m,...d)=>{const p=d.length?d[0]:m;return u.ctx&&s(u.ctx[c],u.ctx[c]=p)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](p),f&&Wt(t,c)),m}):[],u.update(),f=!0,K(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const c=Ct(e.target);u.fragment&&u.fragment.l(c),c.forEach(C)}else u.fragment&&u.fragment.c();e.intro&&q(t.$$.fragment),J(t,e.target,e.anchor),Ve()}te(i)}class x{constructor(){Ee(this,"$$");Ee(this,"$$set")}$destroy(){X(this,1),this.$destroy=D}$on(e,n){if(!He(n))return D;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!vt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Vt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Vt);const ce=[];function ye(t,e=D){let n;const l=new Set;function s(a){if(M(t,a)&&(t=a,n)){const i=!ce.length;for(const u of l)u[1](),ce.push(u,t);if(i){for(let u=0;u<ce.length;u+=2)ce[u][0](ce[u+1]);ce.length=0}}}function r(a){s(a(t))}function o(a,i=D){const u=[a,i];return l.add(u),l.size===1&&(n=e(s,r)||D),a(t),()=>{l.delete(u),l.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:o}}let Fe=ye({}),me=ye({}),je=ye({}),Ke=ye([]),Le=ye({}),Te={armor:"Armor",magicDmg:"Magic",meleeDmg:"Melee",rangedDmg:"Ranged",hpRegen:"HP Regen",endurance:"Endurance",sightRange:"Sight Range",walkSpeed:"Walk Speed",jumpPower:"Jump Power",ammoReturn:"Ammo Return",height:"Height"},$e=["head","body","legs","feet","neck","back","ring","misc"],gt={name:"",stats:{armor:0,magicDmg:0,meleeDmg:0,rangedDmg:0,hpRegen:0,endurance:0,sightRange:0,walkSpeed:0,jumpPower:0,ammoReturn:0,height:0},image:"",link:""},bt={name:"",info:{type:"",special:"",default:{type:"",baseDmg:0,multiplier:0},preview:{}},advanced:{},image:"",link:""};function Ue(t,e){let n=2.8,l=e.split(" ").length,s=t.querySelector("span");if(s.style.removeProperty("font-size"),l>2&&e.length/l>=5){for(;s.offsetHeight>t.offsetHeight/3*2;)n-=.05,s.style.fontSize=`calc(var(--u) * ${n})`;return n<2.8}}function Kt(t){let e=2.8,n=t.querySelector("span");for(n.style.removeProperty("font-size");n.offsetWidth>t.offsetWidth;)e-=.05,n.style.fontSize=`calc(var(--u) * ${e})`;for(;n.offsetHeight>t.offsetHeight/5*4;)e-=.05,n.style.fontSize=`calc(var(--u) * ${e})`;if(e<2.8)return e}function Ut(t){let e=2.35,n=t.querySelector(".tooltip");for(n.style.removeProperty("font-size");n.offsetHeight>t.offsetHeight*1.125;)e-=.02,n.style.fontSize=`calc(var(--u) * ${e})`}function Jt(t){let e,n,l,s,r,o,a,i;return{c(){e=k("li"),n=k("button"),l=k("img"),r=j(),o=k("span"),o.textContent=`${t[3]}`,Z(l.src,s=t[0].image)||_(l,"src",s),_(l,"alt",""),B(e,"selectedItem",t[2])},m(u,f){L(u,e,f),b(e,n),b(n,l),b(n,r),b(n,o),t[7](e),a||(i=E(n,"click",t[4]),a=!0)},p(u,[f]){f&1&&!Z(l.src,s=u[0].image)&&_(l,"src",s),f&4&&B(e,"selectedItem",u[2])},i:D,o:D,d(u){u&&C(e),t[7](null),a=!1,i()}}}function Xt(t,e,n){let l,s,r;U(t,me,h=>n(8,l=h)),U(t,Fe,h=>n(9,s=h)),U(t,Ke,h=>n(10,r=h));let{itemData:o,slotOpen:a,eqSlotName:i}=e;const u=We();let f,c=!1,m=o.name;Me(()=>{Ue(f,m)&&r.push({node:f,itemName:m})});function d(h){if(a||!a&&h.isTrusted==!1){u("itemSelect",f),f.classList.contains("selectedItem")||n(2,c=!1),n(2,c=!c),n(5,a=!1),le(Fe,s[i]=c?o:gt,s);for(let g of Object.keys(Te)){le(me,l[g]=0,l);for(let N in s)le(me,l[g]+=s[N].stats[g],l),le(me,l[g]=Math.round(l[g]*10)/10,l)}}}function p(h){T[h?"unshift":"push"](()=>{f=h,n(1,f)})}return t.$$set=h=>{"itemData"in h&&n(0,o=h.itemData),"slotOpen"in h&&n(5,a=h.slotOpen),"eqSlotName"in h&&n(6,i=h.eqSlotName)},[o,f,c,m,d,a,i,p]}class Qt extends x{constructor(e){super(),$(this,e,Xt,Jt,M,{itemData:0,slotOpen:5,eqSlotName:6})}}function Yt(t){let e,n,l,s,r,o,a,i,u;return{c(){e=k("li"),n=k("button"),l=k("img"),r=j(),o=k("span"),o.textContent=`${t[4]}`,Z(l.src,s=t[0].image)||_(l,"src",s),_(l,"alt",""),n.disabled=a=!t[3],B(e,"selectedItem",t[2]),B(e,"non-eligible",!t[3])},m(f,c){L(f,e,c),b(e,n),b(n,l),b(n,r),b(n,o),t[9](e),i||(u=E(n,"click",t[5]),i=!0)},p(f,[c]){c&1&&!Z(l.src,s=f[0].image)&&_(l,"src",s),c&8&&a!==(a=!f[3])&&(n.disabled=a),c&4&&B(e,"selectedItem",f[2]),c&8&&B(e,"non-eligible",!f[3])},i:D,o:D,d(f){f&&C(e),t[9](null),i=!1,u()}}}function Zt(t,e,n){let l,s;U(t,je,g=>n(8,l=g)),U(t,Ke,g=>n(10,s=g));let{itemData:r,slotOpen:o,index:a}=e;const i=We();let u,f=!1,c=!0,m=r.name,d={"Orange Salamander":["Green Salamander","Purple Salamander"],"Green Salamander":["Orange Salamander","Purple Salamander"],"Purple Salamander":["Orange Salamander","Green Salamander"],"White Salamander":["Black Salamander","Gold Salamander"],"Black Salamander":["White Salamander","Gold Salamander"],"Gold Salamander":["White Salamander","Black Salamander"]};Me(()=>{Ue(u,m)&&s.push({node:u,itemName:m})});function p(g){c&&(o||!o&&g.isTrusted==!1)&&(i("itemSelect",u),u.classList.contains("selectedItem")||n(2,f=!1),n(2,f=!f),n(6,o=!1),le(je,l[a]=f?r:bt,l))}function h(g){T[g?"unshift":"push"](()=>{u=g,n(1,u)})}return t.$$set=g=>{"itemData"in g&&n(0,r=g.itemData),"slotOpen"in g&&n(6,o=g.slotOpen),"index"in g&&n(7,a=g.index)},t.$$.update=()=>{if(t.$$.dirty&384&&l)for(let g in l)if(g!=a&&(l[g].name==m||d[l[g].name]&&d[l[g].name].includes(m))){n(3,c=!1);break}else n(3,c=!0)},[r,u,f,c,m,p,o,a,l,h]}class $t extends x{constructor(e){super(),$(this,e,Zt,Yt,M,{itemData:0,slotOpen:6,index:7})}}function xe(t,e,n){const l=t.slice();return l[27]=e[n],l}function xt(t){return{c:D,m:D,p:D,i:D,o:D,d:D}}function en(t){let e,n,l,s,r,o,a,i=oe(t[26]),u=[];for(let c=0;c<i.length;c+=1)u[c]=et(xe(t,i,c));const f=c=>I(u[c],1,1,()=>{u[c]=null});return{c(){e=k("div"),n=k("input"),l=j(),s=k("ul");for(let c=0;c<u.length;c+=1)u[c].c();_(n,"type","text"),_(n,"class","searchBarInput svelte-668kzw"),_(n,"placeholder","Search..."),_(e,"class","searchBarCont svelte-668kzw"),_(s,"class","svelte-668kzw")},m(c,m){L(c,e,m),b(e,n),t[12](n),L(c,l,m),L(c,s,m);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(s,null);t[15](s),r=!0,o||(a=[E(n,"keydown",t[8]),E(n,"input",t[9])],o=!0)},p(c,m){if(m&1159){i=oe(c[26]);let d;for(d=0;d<i.length;d+=1){const p=xe(c,i,d);u[d]?(u[d].p(p,m),q(u[d],1)):(u[d]=et(p),u[d].c(),q(u[d],1),u[d].m(s,null))}for(re(),d=i.length;d<u.length;d+=1)f(d);ae()}},i(c){if(!r){for(let m=0;m<i.length;m+=1)q(u[m]);r=!0}},o(c){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)I(u[m]);r=!1},d(c){c&&(C(e),C(l),C(s)),t[12](null),De(u,c),t[15](null),o=!1,K(a)}}}function tn(t){let e,n,l;function s(o){t[14](o)}let r={itemData:t[27],eqSlotName:t[1]};return t[0]!==void 0&&(r.slotOpen=t[0]),e=new Qt({props:r}),T.push(()=>ie(e,"slotOpen",s)),e.$on("itemSelect",t[10]),{c(){Y(e.$$.fragment)},m(o,a){J(e,o,a),l=!0},p(o,a){const i={};a&2&&(i.eqSlotName=o[1]),!n&&a&1&&(n=!0,i.slotOpen=o[0],se(()=>n=!1)),e.$set(i)},i(o){l||(q(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function nn(t){let e,n,l;function s(o){t[13](o)}let r={itemData:t[27],index:t[2]};return t[0]!==void 0&&(r.slotOpen=t[0]),e=new $t({props:r}),T.push(()=>ie(e,"slotOpen",s)),e.$on("itemSelect",t[10]),{c(){Y(e.$$.fragment)},m(o,a){J(e,o,a),l=!0},p(o,a){const i={};a&4&&(i.index=o[2]),!n&&a&1&&(n=!0,i.slotOpen=o[0],se(()=>n=!1)),e.$set(i)},i(o){l||(q(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function et(t){let e,n,l,s;const r=[nn,tn],o=[];function a(i,u){return i[2]?0:1}return e=a(t),n=o[e]=r[e](t),{c(){n.c(),l=_t()},m(i,u){o[e].m(i,u),L(i,l,u),s=!0},p(i,u){let f=e;e=a(i),e===f?o[e].p(i,u):(re(),I(o[f],1,1,()=>{o[f]=null}),ae(),n=o[e],n?n.p(i,u):(n=o[e]=r[e](i),n.c()),q(n,1),n.m(l.parentNode,l))},i(i){s||(q(n),s=!0)},o(i){I(n),s=!1},d(i){i&&C(l),o[e].d(i)}}}function ln(t){let e;return{c(){e=k("span"),e.textContent="Loading items...",_(e,"class","svelte-668kzw")},m(n,l){L(n,e,l)},p:D,i:D,o:D,d(n){n&&C(e)}}}function sn(t){let e,n,l,s,r,o={ctx:t,current:null,token:null,hasCatch:!1,pending:ln,then:en,catch:xt,value:26,blocks:[,,,]};return Gt(t[7],o),{c(){e=k("div"),o.block.c(),_(e,"class","dropdown svelte-668kzw"),V(()=>t[16].call(e)),A(e,"height",`${t[4]*1.25}px`)},m(a,i){L(a,e,i),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,n=we(e,t[16].bind(e)),l=!0,s||(r=[E(e,"transitionend",t[17]),E(e,"transitioncancel",t[18])],s=!0)},p(a,[i]){t=a,Mt(o,t,i),i&16&&A(e,"height",`${t[4]*1.25}px`)},i(a){l||(q(o.block),l=!0)},o(a){for(let i=0;i<3;i+=1){const u=o.blocks[i];I(u)}l=!1},d(a){a&&C(e),o.block.d(),o.token=null,o=null,n(),s=!1,K(r)}}}function on(t,e,n){let{slotName:l,index:s,slotOpen:r}=e;const o=We();let a,i,u,f,c=`https://raw.githubusercontent.com/XT8SS/fc-sv/gh-pages/ff-data/${l}.json`,m,d={},p=!1;const h=fetch(c).then(async w=>{if(w.status!=200){console.error(`Failed to fetch ${(s?"weapon #":"")+l} slot data from ${c}
Response status: ${w.status}`);return}return n(11,m=await w.json()),m}).catch(w=>{console.error(`Failed to initiate ${(s?"weapon #":"")+l} slot data fetch from ${c}
${w}`)});function g(){f&&f.classList.remove("lastItem"),u.classList.remove("no-scrollbar");let w=u.querySelectorAll("li:not(.hidden)");f=w[w.length-1],f&&f.classList.add("lastItem"),(!f||f.classList.contains("duplicate"))&&(f=i),w.length<=4&&u.classList.add("no-scrollbar")}function N(w){!w.shiftKey&&w.key=="Tab"&&setTimeout(()=>{i.focus()})}function O(){f&&f.removeEventListener("keydown",N),g(),f&&f.addEventListener("keydown",N)}function P(w){w.shiftKey&&w.key=="Tab"&&setTimeout(()=>{(f.querySelector("button")||f).focus()})}function R(){let w=i.value.toLowerCase();for(let H in d)H.toLowerCase().includes(w)?d[H].element.classList.remove("hidden"):d[H].element.classList.add("hidden");O()}function v(w){o("itemSelect",w.detail);let H=u.querySelector(".selectedItem");H&&H!=w.detail&&H.classList.remove("selectedItem"),n(6,p=!0)}function S(w){T[w?"unshift":"push"](()=>{i=w,n(5,i)})}function F(w){r=w,n(0,r)}function ee(w){r=w,n(0,r)}function z(w){T[w?"unshift":"push"](()=>{u=w,n(3,u)})}function Ce(){a=this.offsetWidth,n(4,a)}const y=w=>{w.propertyName=="visibility"&&(p&&(n(6,p=!1),n(5,i.value="",i),R()),r&&setTimeout(()=>{i.focus(),i.select()}))},W=w=>{w.propertyName=="visibility"&&(n(6,p=!1),r&&setTimeout(()=>{i.focus(),i.select()}))};return t.$$set=w=>{"slotName"in w&&n(1,l=w.slotName),"index"in w&&n(2,s=w.index),"slotOpen"in w&&n(0,r=w.slotOpen)},t.$$.update=()=>{if(t.$$.dirty&2056&&u){for(let w=0;w<u.childElementCount;w++)d[m[w].name]={element:u.children[w],data:m[w]};g(),O()}},[r,l,s,u,a,i,p,h,P,R,v,m,S,F,ee,z,Ce,y,W]}class wt extends x{constructor(e){super(),$(this,e,on,sn,M,{slotName:1,index:2,slotOpen:0})}}function qe(t,{delay:e=0,duration:n=400,easing:l=ft}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:r=>`opacity: ${r*s}`}}function tt(t){let e,n,l,s,r,o,a=t[1].name+"",i,u,f,c,m,d;return{c(){e=k("a"),n=k("img"),r=j(),o=k("span"),i=G(a),Z(n.src,l=t[1].image)||_(n,"src",l),_(n,"alt",s=t[1].name),_(n,"draggable","false"),_(n,"class","svelte-183otrp"),_(o,"class","tooltip"),_(o,"id","left"),_(e,"href",u=t[1].link),_(e,"target","_blank"),_(e,"class","svelte-183otrp"),A(e,"display",t[1].link?"":"none")},m(p,h){L(p,e,h),b(e,n),b(e,r),b(e,o),b(o,i),c=!0,m||(d=E(e,"focusin",t[11]),m=!0)},p(p,h){(!c||h&2&&!Z(n.src,l=p[1].image))&&_(n,"src",l),(!c||h&2&&s!==(s=p[1].name))&&_(n,"alt",s),(!c||h&2)&&a!==(a=p[1].name+"")&&Q(i,a),(!c||h&2&&u!==(u=p[1].link))&&_(e,"href",u),h&2&&A(e,"display",p[1].link?"":"none")},i(p){c||(p&&V(()=>{c&&(f||(f=ze(e,qe,{duration:150},!0)),f.run(1))}),c=!0)},o(p){p&&(f||(f=ze(e,qe,{duration:150},!1)),f.run(0)),c=!1},d(p){p&&C(e),p&&f&&f.end(),m=!1,d()}}}function rn(t){let e,n,l=t[1],s,r,o,a=t[0].charAt(0).toUpperCase()+t[0].slice(1)+"",i,u,f,c,m,d,p,h,g,N,O,P=tt(t);function R(S){t[16](S)}let v={slotName:t[0],index:null};return t[5]!==void 0&&(v.slotOpen=t[5]),p=new wt({props:v}),T.push(()=>ie(p,"slotOpen",R)),p.$on("itemSelect",t[17]),{c(){e=k("div"),n=k("div"),P.c(),r=j(),o=k("button"),i=G(a),u=j(),f=k("iconify-icon"),c=j(),m=k("button"),m.innerHTML='<iconify-icon icon="maki:cross" class="svelte-183otrp"></iconify-icon> <span class="tooltip" id="top">Clear selection</span>',d=j(),Y(p.$$.fragment),_(n,"class","eqSlotIcon svelte-183otrp"),V(()=>t[13].call(n)),A(n,"min-width",`${t[4]}px`),Ye(f,"icon","iconamoon:arrow-down-2-fill"),Ye(f,"class","svelte-183otrp"),_(o,"class","ddButton svelte-183otrp"),_(m,"class","clearButton svelte-183otrp"),_(e,"class","eqSlotCont svelte-183otrp"),B(e,"slotOpen",t[5]),B(e,"clearAllowed",t[6]&&t[7])},m(S,F){L(S,e,F),b(e,n),P.m(n,null),t[12](n),s=we(n,t[13].bind(n)),b(e,r),b(e,o),b(o,i),b(o,u),b(o,f),b(e,c),b(e,m),b(e,d),J(p,e,null),t[18](e),g=!0,N||(O=[E(window,"mousedown",t[9]),E(window,"keydown",t[10]),E(o,"click",t[14]),E(m,"click",t[15]),E(e,"keydown",t[19]),E(e,"mouseenter",t[20]),E(e,"mouseleave",t[21])],N=!0)},p(S,[F]){F&2&&M(l,l=S[1])?(re(),I(P,1,1,D),ae(),P=tt(S),P.c(),q(P,1),P.m(n,null)):P.p(S,F),F&16&&A(n,"min-width",`${S[4]}px`),(!g||F&1)&&a!==(a=S[0].charAt(0).toUpperCase()+S[0].slice(1)+"")&&Q(i,a);const ee={};F&1&&(ee.slotName=S[0]),!h&&F&32&&(h=!0,ee.slotOpen=S[5],se(()=>h=!1)),p.$set(ee),(!g||F&32)&&B(e,"slotOpen",S[5]),(!g||F&192)&&B(e,"clearAllowed",S[6]&&S[7])},i(S){g||(q(P),q(p.$$.fragment,S),g=!0)},o(S){I(P),I(p.$$.fragment,S),g=!1},d(S){S&&C(e),P.d(S),t[12](null),s(),X(p),t[18](null),N=!1,K(O)}}}function an(t,e,n){let l;U(t,Fe,z=>n(8,l=z));let{eqSlotName:s}=e,r,o,a,i=gt,u,f,c;const m=z=>{(!r.contains(z.target)||z.target==r||z.target==o)&&(n(5,u=!1),z.target!=r&&z.target!=o&&n(6,f=!1))},d=z=>{z.key=="Tab"&&setTimeout(()=>{n(6,f=r.contains(document.activeElement))})},p=z=>{z.relatedTarget==null&&n(6,f=!0)};function h(z){T[z?"unshift":"push"](()=>{o=z,n(3,o)})}function g(){a=this.offsetHeight,n(4,a)}const N=()=>n(5,u=!u),O=()=>{n(6,f=!1),r.classList.contains("clearAllowed")&&c.querySelector("button").click()};function P(z){u=z,n(5,u)}const R=z=>{setTimeout(()=>{Ut(o),n(7,c=z.detail.classList.contains("selectedItem")?z.detail:null)})};function v(z){T[z?"unshift":"push"](()=>{r=z,n(2,r)})}const S=z=>{z.key=="Escape"&&n(5,u=!1)},F=()=>n(6,f=!0),ee=()=>{r.contains(document.activeElement)||n(6,f=!1)};return t.$$set=z=>{"eqSlotName"in z&&n(0,s=z.eqSlotName)},t.$$.update=()=>{t.$$.dirty&259&&l[s]&&l[s].name!=i.name&&n(1,i=l[s])},[s,i,r,o,a,u,f,c,l,m,d,p,h,g,N,O,P,R,v,S,F,ee]}class un extends x{constructor(e){super(),$(this,e,an,rn,M,{eqSlotName:0})}}function nt(t,e,n){const l=t.slice();return l[1]=e[n],l[2]=e,l[3]=n,l}function lt(t){let e,n,l;function s(o){t[0](o,t[1],t[2],t[3])}let r={};return t[1]!==void 0&&(r.eqSlotName=t[1]),e=new un({props:r}),T.push(()=>ie(e,"eqSlotName",s)),{c(){Y(e.$$.fragment)},m(o,a){J(e,o,a),l=!0},p(o,a){t=o;const i={};!n&&a&0&&(n=!0,i.eqSlotName=t[1],se(()=>n=!1)),e.$set(i)},i(o){l||(q(e.$$.fragment,o),l=!0)},o(o){I(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function fn(t){let e,n,l=oe(Array(...$e)),s=[];for(let o=0;o<l.length;o+=1)s[o]=lt(nt(t,l,o));const r=o=>I(s[o],1,1,()=>{s[o]=null});return{c(){e=k("div");for(let o=0;o<s.length;o+=1)s[o].c();_(e,"class","armorBox svelte-3p4tb9")},m(o,a){L(o,e,a);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null);n=!0},p(o,[a]){if(a&0){l=oe(Array(...$e));let i;for(i=0;i<l.length;i+=1){const u=nt(o,l,i);s[i]?(s[i].p(u,a),q(s[i],1)):(s[i]=lt(u),s[i].c(),q(s[i],1),s[i].m(e,null))}for(re(),i=l.length;i<s.length;i+=1)r(i);ae()}},i(o){if(!n){for(let a=0;a<l.length;a+=1)q(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)I(s[a]);n=!1},d(o){o&&C(e),De(s,o)}}}function cn(t,e,n){function l(s,r,o,a){o[a]=s}return[l]}class dn extends x{constructor(e){super(),$(this,e,cn,fn,M,{})}}function mn(t){let e,n=(t[5]?`${Math.floor(t[2][t[0]]*.675+19.8)}% Reduction`:t[6])+"",l,s,r,o;return{c(){e=k("span"),l=G(n),_(e,"class","statValue svelte-16tz2kw"),_(e,"tabindex","0"),_(e,"style",s=t[5]?`font-size: ${t[3]*.7/6.85}px;`:""),B(e,"hidden",t[4]),B(e,"negative",t[6]<0),B(e,"reduction",t[5])},m(a,i){L(a,e,i),b(e,l),r||(o=[E(e,"mouseenter",t[10]),E(e,"mouseleave",t[11]),E(e,"focusin",t[12]),E(e,"focusout",t[13])],r=!0)},p(a,i){i&101&&n!==(n=(a[5]?`${Math.floor(a[2][a[0]]*.675+19.8)}% Reduction`:a[6])+"")&&Q(l,n),i&40&&s!==(s=a[5]?`font-size: ${a[3]*.7/6.85}px;`:"")&&_(e,"style",s),i&16&&B(e,"hidden",a[4]),i&64&&B(e,"negative",a[6]<0),i&32&&B(e,"reduction",a[5])},d(a){a&&C(e),r=!1,K(o)}}}function pn(t){let e,n=(t[0]!="endurance"?t[6]:t[6].toFixed(2))+"",l;return{c(){e=k("span"),l=G(n),_(e,"class","statValue svelte-16tz2kw"),B(e,"hidden",t[4]),B(e,"negative",t[6]<0)},m(s,r){L(s,e,r),b(e,l)},p(s,r){r&65&&n!==(n=(s[0]!="endurance"?s[6]:s[6].toFixed(2))+"")&&Q(l,n),r&16&&B(e,"hidden",s[4]),r&64&&B(e,"negative",s[6]<0)},d(s){s&&C(e)}}}function st(t){let e,n=`${t[1]} Bonus`,l;return{c(){e=k("span"),l=G(n),A(e,"font-size",`${t[3]*.7/t[7][t[0]]}px`)},m(s,r){L(s,e,r),b(e,l)},p(s,r){r&2&&n!==(n=`${s[1]} Bonus`)&&Q(l,n),r&9&&A(e,"font-size",`${s[3]*.7/s[7][s[0]]}px`)},d(s){s&&C(e)}}}function _n(t){let e,n,l,s,r,o,a,i;function u(d,p){return d[0]!="armor"?pn:mn}let f=u(t),c=f(t),m=t[4]&&st(t);return{c(){e=k("div"),n=k("img"),s=j(),c.c(),r=j(),m&&m.c(),Z(n.src,l="stats/"+t[0]+".svg")||_(n,"src",l),_(n,"alt",t[1]),_(n,"class","svelte-16tz2kw"),_(e,"id",t[0]),_(e,"class","svelte-16tz2kw"),V(()=>t[14].call(e)),B(e,"hidden",t[6]==0)},m(d,p){L(d,e,p),b(e,n),b(e,s),c.m(e,null),b(e,r),m&&m.m(e,null),o=we(e,t[14].bind(e)),a||(i=[E(n,"mouseenter",t[8]),E(n,"mouseleave",t[9])],a=!0)},p(d,[p]){p&1&&!Z(n.src,l="stats/"+d[0]+".svg")&&_(n,"src",l),p&2&&_(n,"alt",d[1]),f===(f=u(d))&&c?c.p(d,p):(c.d(1),c=f(d),c&&(c.c(),c.m(e,r))),d[4]?m?m.p(d,p):(m=st(d),m.c(),m.m(e,null)):m&&(m.d(1),m=null),p&1&&_(e,"id",d[0]),p&64&&B(e,"hidden",d[6]==0)},i:D,o:D,d(d){d&&C(e),c.d(),m&&m.d(),o(),a=!1,K(i)}}}function hn(t,e,n){let l,s;U(t,me,O=>n(2,s=O));let{codeName:r,formalName:o}=e,a,i,u,f={armor:5.9,magicDmg:5.65,meleeDmg:5.7,rangedDmg:6.45,hpRegen:7.35,endurance:7.85,sightRange:8.45,walkSpeed:8.3,jumpPower:8.7,ammoReturn:9.3,height:6.1};const c=()=>n(4,i=!0),m=()=>n(4,i=!1),d=()=>n(5,u=!0),p=()=>n(5,u=!1),h=()=>n(5,u=!0),g=()=>n(5,u=!1);function N(){a=this.offsetWidth,n(3,a)}return t.$$set=O=>{"codeName"in O&&n(0,r=O.codeName),"formalName"in O&&n(1,o=O.formalName)},t.$$.update=()=>{t.$$.dirty&5&&n(6,l=s[r]||0)},[r,o,s,a,i,u,l,f,c,m,d,p,h,g,N]}class gn extends x{constructor(e){super(),$(this,e,hn,_n,M,{codeName:0,formalName:1})}}function ot(t,e,n){const l=t.slice();return l[2]=e[n][0],l[3]=e[n][1],l[4]=e,l[5]=n,l}function it(t){let e,n,l,s;function r(i){t[0](i,t[2],t[4],t[5])}function o(i){t[1](i,t[3],t[4],t[5])}let a={};return t[2]!==void 0&&(a.codeName=t[2]),t[3]!==void 0&&(a.formalName=t[3]),e=new gn({props:a}),T.push(()=>ie(e,"codeName",r)),T.push(()=>ie(e,"formalName",o)),{c(){Y(e.$$.fragment)},m(i,u){J(e,i,u),s=!0},p(i,u){t=i;const f={};!n&&u&0&&(n=!0,f.codeName=t[2],se(()=>n=!1)),!l&&u&0&&(l=!0,f.formalName=t[3],se(()=>l=!1)),e.$set(f)},i(i){s||(q(e.$$.fragment,i),s=!0)},o(i){I(e.$$.fragment,i),s=!1},d(i){X(e,i)}}}function bn(t){let e,n,l=oe(Object.entries(Te)),s=[];for(let o=0;o<l.length;o+=1)s[o]=it(ot(t,l,o));const r=o=>I(s[o],1,1,()=>{s[o]=null});return{c(){e=k("div");for(let o=0;o<s.length;o+=1)s[o].c();_(e,"class","statBox svelte-lu37w6")},m(o,a){L(o,e,a);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null);n=!0},p(o,[a]){if(a&0){l=oe(Object.entries(Te));let i;for(i=0;i<l.length;i+=1){const u=ot(o,l,i);s[i]?(s[i].p(u,a),q(s[i],1)):(s[i]=it(u),s[i].c(),q(s[i],1),s[i].m(e,null))}for(re(),i=l.length;i<s.length;i+=1)r(i);ae()}},i(o){if(!n){for(let a=0;a<l.length;a+=1)q(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)I(s[a]);n=!1},d(o){o&&C(e),De(s,o)}}}function wn(t,e,n){function l(r,o,a,i){a[i][0]=r}function s(r,o,a,i){a[i][1]=r}return[l,s]}class yn extends x{constructor(e){super(),$(this,e,wn,bn,M,{})}}function kn(t){let e,n,l=t[2].description+"",s,r;return{c(){e=k("span"),n=G('"'),s=G(l),r=G('"'),_(e,"class","svelte-1a5adtw")},m(o,a){L(o,e,a),b(e,n),b(e,s),b(e,r)},p(o,a){a&4&&l!==(l=o[2].description+"")&&Q(s,l)},d(o){o&&C(e)}}}function Sn(t){let e=t[11],n,l=at(t);return{c(){l.c(),n=_t()},m(s,r){l.m(s,r),L(s,n,r)},p(s,r){r&2048&&M(e,e=s[11])?(l.d(1),l=at(s),l.c(),l.m(n.parentNode,n)):l.p(s,r)},d(s){s&&C(n),l.d(s)}}}function rt(t){let e,n,l=t[3].name.split(" (")[0]+":",s,r,o,a=t[10]+t[14](t[3])+"",i;return{c(){e=k("div"),n=k("span"),s=G(l),r=j(),o=k("span"),i=G(a),_(n,"class","svelte-1a5adtw"),A(n,"font-size",Object.keys(t[12]).includes(t[3].name)?`calc(var(--u) * ${t[12][t[3].name]})`:""),_(o,"class","svelte-1a5adtw"),_(e,"id","special"),_(e,"class","svelte-1a5adtw")},m(u,f){L(u,e,f),b(e,n),b(n,s),b(e,r),b(e,o),b(o,i)},p(u,f){f&8&&l!==(l=u[3].name.split(" (")[0]+":")&&Q(s,l),f&4104&&A(n,"font-size",Object.keys(u[12]).includes(u[3].name)?`calc(var(--u) * ${u[12][u[3].name]})`:""),f&1032&&a!==(a=u[10]+u[14](u[3])+"")&&Q(i,a)},d(u){u&&C(e)}}}function at(t){let e,n,l,s=t[8].name+":",r,o,a,i=t[14](t[8])+"",u,f,c,m,d=t[3]&&rt(t);return{c(){e=k("button"),n=k("div"),l=k("span"),r=G(s),o=j(),a=k("span"),u=G(i),f=j(),d&&d.c(),c=j(),m=k("span"),m.textContent="(Expand)",_(l,"class","svelte-1a5adtw"),A(l,"font-size",Object.keys(t[12]).includes(t[8].name)?`calc(var(--u) * ${t[12][t[8].name]})`:""),_(a,"class","svelte-1a5adtw"),_(n,"id","basic"),_(n,"class","svelte-1a5adtw"),_(m,"class","tooltip"),_(m,"id","top"),_(e,"class","gearPreview svelte-1a5adtw")},m(p,h){L(p,e,h),b(e,n),b(n,l),b(l,r),b(n,o),b(n,a),b(a,u),b(e,f),d&&d.m(e,null),b(e,c),b(e,m),t[19](e)},p(p,h){h&256&&s!==(s=p[8].name+":")&&Q(r,s),h&4352&&A(l,"font-size",Object.keys(p[12]).includes(p[8].name)?`calc(var(--u) * ${p[12][p[8].name]})`:""),h&256&&i!==(i=p[14](p[8])+"")&&Q(u,i),p[3]?d?d.p(p,h):(d=rt(p),d.c(),d.m(e,c)):d&&(d.d(1),d=null)},d(p){p&&C(e),d&&d.d(),t[19](null)}}}function ut(t){let e,n,l,s,r,o,a=t[2].name+"",i,u,f,c;return{c(){e=k("a"),n=k("img"),r=j(),o=k("span"),i=G(a),Z(n.src,l=t[2].image)||_(n,"src",l),_(n,"alt",s=t[2].name),_(n,"draggable","false"),_(n,"class","svelte-1a5adtw"),_(o,"class","tooltip"),_(o,"id","right"),_(e,"href",u=t[2].link),_(e,"target","_blank"),_(e,"class","svelte-1a5adtw"),A(e,"display",t[2].link?"":"none"),A(e,"border-radius",t[2].tool?"calc(var(--u))":"")},m(m,d){L(m,e,d),b(e,n),b(e,r),b(e,o),b(o,i),c=!0},p(m,d){(!c||d&4&&!Z(n.src,l=m[2].image))&&_(n,"src",l),(!c||d&4&&s!==(s=m[2].name))&&_(n,"alt",s),(!c||d&4)&&a!==(a=m[2].name+"")&&Q(i,a),(!c||d&4&&u!==(u=m[2].link))&&_(e,"href",u),d&4&&A(e,"display",m[2].link?"":"none"),d&4&&A(e,"border-radius",m[2].tool?"calc(var(--u))":"")},i(m){c||(m&&V(()=>{c&&(f||(f=ze(e,qe,{duration:150},!0)),f.run(1))}),c=!0)},o(m){m&&(f||(f=ze(e,qe,{duration:150},!1)),f.run(0)),c=!1},d(m){m&&C(e),m&&f&&f.end()}}}function vn(t){let e,n,l,s,r,o,a=t[2],i,u,f,c,m,d,p;function h(v,S){if(v[2].name&&!v[2].tool)return Sn;if(v[2].tool)return kn}let g=h(t),N=g&&g(t),O=ut(t);function P(v){t[22](v)}let R={slotName:t[0],index:t[1]};return t[9]!==void 0&&(R.slotOpen=t[9]),f=new wt({props:R}),T.push(()=>ie(f,"slotOpen",P)),f.$on("itemSelect",t[13]),{c(){e=k("div"),n=k("button"),n.innerHTML=`<iconify-icon icon="iconamoon:arrow-down-2-fill" rotate="90deg" class="svelte-1a5adtw"></iconify-icon>
        Gear`,l=j(),s=k("div"),N&&N.c(),r=j(),o=k("div"),O.c(),u=j(),Y(f.$$.fragment),_(n,"class","ddButton svelte-1a5adtw"),_(o,"class","gearSlotIcon svelte-1a5adtw"),V(()=>t[20].call(o)),A(o,"min-width",`${t[6]}px`),_(s,"class","gearInfoCont svelte-1a5adtw"),A(s,"justify-content",t[2].name?"":"flex-end"),_(e,"class","gearSlot svelte-1a5adtw"),B(e,"slotOpen",t[9])},m(v,S){L(v,e,S),b(e,n),b(e,l),b(e,s),N&&N.m(s,null),b(s,r),b(s,o),O.m(o,null),i=we(o,t[20].bind(o)),t[21](s),b(e,u),J(f,e,null),t[23](e),m=!0,d||(p=[E(window,"mousedown",t[16]),E(window,"keydown",t[17]),E(n,"click",t[18])],d=!0)},p(v,[S]){g===(g=h(v))&&N?N.p(v,S):(N&&N.d(1),N=g&&g(v),N&&(N.c(),N.m(s,r))),S&4&&M(a,a=v[2])?(re(),I(O,1,1,D),ae(),O=ut(v),O.c(),q(O,1),O.m(o,null)):O.p(v,S),S&64&&A(o,"min-width",`${v[6]}px`),S&4&&A(s,"justify-content",v[2].name?"":"flex-end");const F={};S&1&&(F.slotName=v[0]),S&2&&(F.index=v[1]),!c&&S&512&&(c=!0,F.slotOpen=v[9],se(()=>c=!1)),f.$set(F),(!m||S&512)&&B(e,"slotOpen",v[9])},i(v){m||(q(O),q(f.$$.fragment,v),m=!0)},o(v){I(O),I(f.$$.fragment,v),m=!1},d(v){v&&C(e),N&&N.d(),O.d(v),i(),t[21](null),X(f),t[23](null),d=!1,K(p)}}}function Nn(t,e,n){let l,s,r;U(t,je,y=>n(15,l=y)),U(t,me,y=>n(11,s=y)),U(t,Le,y=>n(12,r=y));let{slotName:o,index:a}=e,i,u,f,c,m=bt,d,p,h,g="";function N(){setTimeout(()=>{if(c){for(let y of c.querySelectorAll(".gearPreview > div"))if(!Object.keys(r).includes(y.id=="basic"?d.name:p.name)){let W=Kt(y);W&&(y.id=="basic"?le(Le,r[d.name]=W,r):y.id=="special"&&le(Le,r[p.name]=W,r))}}})}function O(y){let W;if(y.name=="Void Needle")W=y.base+(s[y.type]||0)-(s.armor||0)*5.625;else if(m.name=="Pureblood Dagger"){let w,H={magicDmg:s.magicDmg||0,meleeDmg:s.meleeDmg||0,rangedDmg:s.rangedDmg||0},ue=Object.keys(H).reduce((he,Xe)=>H[he]>H[Xe]?he:Xe),Je=0;for(let he in H)he!=ue&&(Je+=H[he]);w=(s[ue]||0)*2-Je,W=y.base+w,y.name=="HP restored per Blood Sap"&&(W=y.base+w/2)}else if(y.type.includes("/")){let w=y.type.split("/"),H=0;for(let ue of w)H+=(s[ue]||0)*y[`${ue}Mult`];W=y.base+H}else W=y.base+(s[y.type]||0)*y.mult;return Math.floor(W)}const P=y=>{(!i.contains(y.target)||i.contains(y.target)&&u.contains(y.target))&&n(9,h=!1)},R=y=>{y.key=="Escape"&&n(9,h=!1)},v=()=>n(9,h=!h);function S(y){T[y?"unshift":"push"](()=>{c=y,n(7,c)})}function F(){f=this.offsetHeight,n(6,f)}function ee(y){T[y?"unshift":"push"](()=>{u=y,n(5,u)})}function z(y){h=y,n(9,h)}function Ce(y){T[y?"unshift":"push"](()=>{i=y,n(4,i)})}return t.$$set=y=>{"slotName"in y&&n(0,o=y.slotName),"index"in y&&n(1,a=y.index)},t.$$.update=()=>{t.$$.dirty&32782&&l[a]&&l[a].name!=m.name&&(n(2,m=l[a]),!m.tool&&m.name&&(n(8,d=m.moves.filter(y=>y.basic)[0]),n(3,p=m.moves.filter(y=>y.special)[0]),p&&p.name.includes("Fantastic Beamstorm")?n(10,g="~"):n(10,g=""),p&&["Fantastic Beamstorm","HP restored per Blood Sap"].includes(p.name.split(" (")[0])))},[o,a,m,p,i,u,f,c,d,h,g,s,r,N,O,l,P,R,v,S,F,ee,z,Ce]}class On extends x{constructor(e){super(),$(this,e,Nn,vn,M,{slotName:0,index:1})}}function zn(t,e,n){const l=t.slice();return l[2]=e[n],l}function qn(t){let e,n;return e=new On({props:{slotName:"gear",index:t[2]}}),{c(){Y(e.$$.fragment)},m(l,s){J(e,l,s),n=!0},p:D,i(l){n||(q(e.$$.fragment,l),n=!0)},o(l){I(e.$$.fragment,l),n=!1},d(l){X(e,l)}}}function Dn(t){let e,n,l=oe([1,2,3,4,5]),s=[];for(let r=0;r<5;r+=1)s[r]=qn(zn(t,l,r));return{c(){e=k("div");for(let r=0;r<5;r+=1)s[r].c();_(e,"class","gearBox svelte-ibag1e")},m(r,o){L(r,e,o);for(let a=0;a<5;a+=1)s[a]&&s[a].m(e,null);t[1](e),n=!0},p:D,i(r){if(!n){for(let o=0;o<5;o+=1)q(s[o]);n=!0}},o(r){s=s.filter(Boolean);for(let o=0;o<5;o+=1)I(s[o]);n=!1},d(r){r&&C(e),De(s,r),t[1](null)}}}function Cn(t,e,n){let l;function s(r){T[r?"unshift":"push"](()=>{l=r,n(0,l)})}return[l,s]}class En extends x{constructor(e){super(),$(this,e,Cn,Dn,M,{})}}function Bn(t){let e,n,l,s,r,o,a,i,u,f,c,m;return V(t[5]),s=new dn({}),o=new yn({}),i=new En({}),{c(){e=k("main"),n=k("div"),l=k("div"),Y(s.$$.fragment),r=j(),Y(o.$$.fragment),a=j(),Y(i.$$.fragment),_(l,"class","eqCont svelte-13cummz"),_(n,"class","calcBox svelte-13cummz"),_(e,"class","svelte-13cummz"),V(()=>t[6].call(e)),B(e,"portrait-NOT",!t[2]),A(e,"width",t[2]?`${t[3]*1.56}px`:"")},m(d,p){L(d,e,p),b(e,n),b(n,l),J(s,l,null),b(l,r),J(o,l,null),b(n,a),J(i,n,null),u=we(e,t[6].bind(e)),f=!0,c||(m=E(window,"resize",t[5]),c=!0)},p(d,[p]){(!f||p&4)&&B(e,"portrait-NOT",!d[2]),p&12&&A(e,"width",d[2]?`${d[3]*1.56}px`:"")},i(d){f||(q(s.$$.fragment,d),q(o.$$.fragment,d),q(i.$$.fragment,d),f=!0)},o(d){I(s.$$.fragment,d),I(o.$$.fragment,d),I(i.$$.fragment,d),f=!1},d(d){d&&C(e),X(s),X(o),X(i),u(),c=!1,m()}}}function In(t,e,n){let l;U(t,Ke,f=>n(4,l=f));let s,r,o,a;Me(()=>{n(2,a=o>r)});function i(){n(0,r=window.outerHeight),n(1,o=window.outerWidth)}function u(){s=this.offsetHeight,n(3,s)}return t.$$.update=()=>{if(t.$$.dirty&19&&(o||r)&&(n(2,a=o>r),l))for(let f of l)Ue(f.node,f.itemName);t.$$.dirty&4&&document.documentElement.style.setProperty("--u","0.75vh")},[r,o,a,s,l,i,u]}class Ln extends x{constructor(e){super(),$(this,e,In,Bn,M,{})}}new Ln({target:document.body});
